#!! ---------------------------------------------------
#!! LIMIT
#!! config to configure datacard and workspace writing
#!! ----------------------------------------------------

[LimitGeneral]
#!! --------------------------------------
##!! Binning:
##!! --------------------------------------

;To do split dc step
;split_factor = 20
;split_factor = 60
split_factor = 30

HMassRange = 12,60,180
EtabbRange = 32,0,5
btagrange = 50,0,1
BDTrange = 15,-1,1
;IMPORTANT: this has to be exacly the same as the variable in vhbbPlotDef for the pre/postfit macro to work
;
;Ragne for mjj datacards
;MassRange = 12,60,180
Mass = H_mass
MassRange = 17,0,255
MassRangeVV = 34,0, 255

;;;;;;
;Variable to plot
;;;;;;

;New
;MVA
bTagVar = Jet_btagDeepB[hJidx[1]]
;BDT VH
BDTlow = ZllBDT_lowptDeepCSV.Nominal
BDThigh = ZllBDT_highptDeepCSV.Nominal
;BDT VV
BDTVVlow = ZllBDTVV_lowpt.Nominal
BDTVVhigh = ZllBDTVV_highpt.Nominal
CSVrange = 20,0,1

BDTmin = -0.8
;!! --------------------------------------
;!! Systematics
;!! --------------------------------------

remove_systematics = True

;_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*
;FOR CR
;_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*
;sys_cr = []
;staMS_vhbb_eff_e_13TeV
sys_cr = [
    'jer',
    'jesAbsoluteStat',
    'jesAbsoluteScale',
    'jesAbsoluteFlavMap',
    'jesAbsoluteMPFBias',
    'jesFragmentation',
    'jesSinglePionECAL',
    'jesSinglePionHCAL',
    'jesFlavorQCD',
    'jesRelativeJEREC1',
    'jesRelativeJEREC2',
    'jesRelativeJERHF',
    'jesRelativePtBB',
    'jesRelativePtEC1',
    'jesRelativePtEC2',
    'jesRelativePtHF',
    'jesRelativeBal',
    'jesRelativeFSR',
    'jesRelativeStatFSR',
    'jesRelativeStatEC',
    'jesRelativeStatHF',
    'jesPileUpDataMC',
    'jesPileUpPtRef',
    'jesPileUpPtBB',
    'jesPileUpPtEC1',
    'jesPileUpPtEC2',
    'jesPileUpPtHF',
    'jesPileUpMuZero',
    'jesPileUpEnvelope',
    'jesFlavorZJet',
    'jesFlavorPhotonJet',
    'jesFlavorPureGluon',
    'jesFlavorPureQuark',
    'jesFlavorPureCharm',
    'jesFlavorPureBottom',
    'jesCorrelationGroupMPFInSitu',
    'jesCorrelationGroupIntercalibration',
    'jesCorrelationGroupbJES',
    'jesCorrelationGroupFlavor',
    'jesCorrelationGroupUncorrelated'
    ]

sys_BDT = <!LimitGeneral|sys_cr!>
sys_Mjj = <!LimitGeneral|sys_cr!>

weightF_sys = [
        'PileUp',
        'CMS_vhbb_LHE_weights_scale_muR_ZH',
        'CMS_vhbb_LHE_weights_scale_muR_ggZH',
        'CMS_vhbb_LHE_weights_scale_muR_TT',
        'CMS_vhbb_LHE_weights_scale_muR_Zj0b',
        'CMS_vhbb_LHE_weights_scale_muR_Zj1b',
        'CMS_vhbb_LHE_weights_scale_muR_Zj2b',
        'CMS_vhbb_LHE_weights_scale_muF_ZH',
        'CMS_vhbb_LHE_weights_scale_muF_ggZH',
        'CMS_vhbb_LHE_weights_scale_muF_TT',
        'CMS_vhbb_LHE_weights_scale_muF_Zj0b',
        'CMS_vhbb_LHE_weights_scale_muF_Zj1b',
        'CMS_vhbb_LHE_weights_scale_muF_Zj2b',
        'bTagWeightDeepCSV_JES',
        'bTagWeightDeepCSV_LF',
        'bTagWeightDeepCSV_HF',
        'bTagWeightDeepCSV_LFStats1',
        'bTagWeightDeepCSV_LFStats2',
        'bTagWeightDeepCSV_HFStats1',
        'bTagWeightDeepCSV_HFStats2',
        'bTagWeightDeepCSV_cErr1',
        'bTagWeightDeepCSV_cErr2'
    ]

;rebin_active = True
rebin_active = False 

;_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*
;Common
;_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*

;!! configuration of systematics effects and behaviour
sys_factor = {
    'jer':1.0,
    'jesAbsoluteStat':1.0,
    'jesAbsoluteScale':1.0,
    'jesAbsoluteFlavMap':1.0,
    'jesAbsoluteMPFBias':1.0,
    'jesFragmentation':1.0,
    'jesSinglePionECAL':1.0,
    'jesSinglePionHCAL':1.0,
    'jesFlavorQCD':1.0,
    'jesRelativeJEREC1':1.0,
    'jesRelativeJEREC2':1.0,
    'jesRelativeJERHF':1.0,
    'jesRelativePtBB':1.0,
    'jesRelativePtEC1':1.0,
    'jesRelativePtEC2':1.0,
    'jesRelativePtHF':1.0,
    'jesRelativeBal':1.0,
    'jesRelativeFSR':1.0,
    'jesRelativeStatFSR':1.0,
    'jesRelativeStatEC':1.0,
    'jesRelativeStatHF':1.0,
    'jesPileUpDataMC':1.0,
    'jesPileUpPtRef':1.0,
    'jesPileUpPtBB':1.0,
    'jesPileUpPtEC1':1.0,
    'jesPileUpPtEC2':1.0,
    'jesPileUpPtHF':1.0,
    'jesPileUpMuZero':1.0,
    'jesPileUpEnvelope':1.0,
    'jesSubTotalPileUp':1.0,
    'jesSubTotalRelative':1.0,
    'jesSubTotalPt':1.0,
    'jesSubTotalScale':1.0,
    'jesSubTotalAbsolute':1.0,
    'jesSubTotalMC':1.0,
    'jesTotal':1.0,
    'jesTotalNoFlavor':1.0,
    'jesTotalNoTime':1.0,
    'jesTotalNoFlavorNoTime':1.0,
    'jesFlavorZJet':1.0,
    'jesFlavorPhotonJet':1.0,
    'jesFlavorPureGluon':1.0,
    'jesFlavorPureQuark':1.0,
    'jesFlavorPureCharm':1.0,
    'jesFlavorPureBottom':1.0,
    'jesCorrelationGroupMPFInSitu':1.0,
    'jesCorrelationGroupIntercalibration':1.0,
    'jesCorrelationGroupbJES':1.0,
    'jesCorrelationGroupFlavor':1.0,
    'jesCorrelationGroupUncorrelated':1.0,
    }
;now
affecting_all = ['qqZHbb','DYlight','DY2b','DY1b','TT','ggZHbb','ZHbb','Zbb','Zb','Z_udscg','VV']
sys_affecting = {'jer':<!LimitGeneral|affecting_all!>,'jesAbsoluteStat':<!LimitGeneral|affecting_all!>,'jesAbsoluteScale':<!LimitGeneral|affecting_all!>,'jesAbsoluteFlavMap':<!LimitGeneral|affecting_all!>,'jesAbsoluteMPFBias':<!LimitGeneral|affecting_all!>,'jesFragmentation':<!LimitGeneral|affecting_all!>,'jesSinglePionECAL':<!LimitGeneral|affecting_all!>,'jesSinglePionHCAL':<!LimitGeneral|affecting_all!>,'jesFlavorQCD':<!LimitGeneral|affecting_all!>,'jesRelativeJEREC1':<!LimitGeneral|affecting_all!>,'jesRelativeJEREC2':<!LimitGeneral|affecting_all!>,'jesRelativeJERHF':<!LimitGeneral|affecting_all!>,'jesRelativePtBB':<!LimitGeneral|affecting_all!>,'jesRelativePtEC1':<!LimitGeneral|affecting_all!>,'jesRelativePtEC2':<!LimitGeneral|affecting_all!>,'jesRelativePtHF':<!LimitGeneral|affecting_all!>,'jesRelativeBal':<!LimitGeneral|affecting_all!>,'jesRelativeFSR':<!LimitGeneral|affecting_all!>,'jesRelativeStatFSR':<!LimitGeneral|affecting_all!>,'jesRelativeStatEC':<!LimitGeneral|affecting_all!>,'jesRelativeStatHF':<!LimitGeneral|affecting_all!>,'jesPileUpDataMC':<!LimitGeneral|affecting_all!>,'jesPileUpPtRef':<!LimitGeneral|affecting_all!>,'jesPileUpPtBB':<!LimitGeneral|affecting_all!>,'jesPileUpPtEC1':<!LimitGeneral|affecting_all!>,'jesPileUpPtEC2':<!LimitGeneral|affecting_all!>,'jesPileUpPtHF':<!LimitGeneral|affecting_all!>,'jesPileUpMuZero':<!LimitGeneral|affecting_all!>,'jesPileUpEnvelope':<!LimitGeneral|affecting_all!>,'jesSubTotalPileUp':<!LimitGeneral|affecting_all!>,'jesSubTotalRelative':<!LimitGeneral|affecting_all!>,'jesSubTotalPt':<!LimitGeneral|affecting_all!>,'jesSubTotalScale':<!LimitGeneral|affecting_all!>,'jesSubTotalAbsolute':<!LimitGeneral|affecting_all!>,'jesSubTotalMC':<!LimitGeneral|affecting_all!>,'jesTotal':<!LimitGeneral|affecting_all!>,'jesTotalNoFlavor':<!LimitGeneral|affecting_all!>,'jesTotalNoTime':<!LimitGeneral|affecting_all!>,'jesTotalNoFlavorNoTime':<!LimitGeneral|affecting_all!>,'jesFlavorZJet':<!LimitGeneral|affecting_all!>,'jesFlavorPhotonJet':<!LimitGeneral|affecting_all!>,'jesFlavorPureGluon':<!LimitGeneral|affecting_all!>,'jesFlavorPureQuark':<!LimitGeneral|affecting_all!>,'jesFlavorPureCharm':<!LimitGeneral|affecting_all!>,'jesFlavorPureBottom':<!LimitGeneral|affecting_all!>,'jesCorrelationGroupMPFInSitu':<!LimitGeneral|affecting_all!>,'jesCorrelationGroupIntercalibration':<!LimitGeneral|affecting_all!>,'jesCorrelationGroupbJES':<!LimitGeneral|affecting_all!>,'jesCorrelationGroupFlavor':<!LimitGeneral|affecting_all!>,'jesCorrelationGroupUncorrelated':<!LimitGeneral|affecting_all!>}

replace_cut= ['H_reg_mass>H_reg_mass_{syst}_{UD}', 'H_reg_phi>H_reg_phi_{syst}_{UD}', 'Jet_Pt>Jet_pt_{syst}{UD}', 'Jet_mass>Jet_mass_{syst}{UD}', 'H_reg_pt>H_reg_pt_{syst}_{UD}', 'H_reg_eta>H_reg_eta_{syst}_{UD}']

sys_cut_suffix = {'jer':<!LimitGeneral|replace_cut!>,'jesAbsoluteStat':<!LimitGeneral|replace_cut!>,'jesAbsoluteScale':<!LimitGeneral|replace_cut!>,'jesAbsoluteFlavMap':<!LimitGeneral|replace_cut!>,'jesAbsoluteMPFBias':<!LimitGeneral|replace_cut!>,'jesFragmentation':<!LimitGeneral|replace_cut!>,'jesSinglePionECAL':<!LimitGeneral|replace_cut!>,'jesSinglePionHCAL':<!LimitGeneral|replace_cut!>,'jesFlavorQCD':<!LimitGeneral|replace_cut!>,'jesRelativeJEREC1':<!LimitGeneral|replace_cut!>,'jesRelativeJEREC2':<!LimitGeneral|replace_cut!>,'jesRelativeJERHF':<!LimitGeneral|replace_cut!>,'jesRelativePtBB':<!LimitGeneral|replace_cut!>,'jesRelativePtEC1':<!LimitGeneral|replace_cut!>,'jesRelativePtEC2':<!LimitGeneral|replace_cut!>,'jesRelativePtHF':<!LimitGeneral|replace_cut!>,'jesRelativeBal':<!LimitGeneral|replace_cut!>,'jesRelativeFSR':<!LimitGeneral|replace_cut!>,'jesRelativeStatFSR':<!LimitGeneral|replace_cut!>,'jesRelativeStatEC':<!LimitGeneral|replace_cut!>,'jesRelativeStatHF':<!LimitGeneral|replace_cut!>,'jesPileUpDataMC':<!LimitGeneral|replace_cut!>,'jesPileUpPtRef':<!LimitGeneral|replace_cut!>,'jesPileUpPtBB':<!LimitGeneral|replace_cut!>,'jesPileUpPtEC1':<!LimitGeneral|replace_cut!>,'jesPileUpPtEC2':<!LimitGeneral|replace_cut!>,'jesPileUpPtHF':<!LimitGeneral|replace_cut!>,'jesPileUpMuZero':<!LimitGeneral|replace_cut!>,'jesPileUpEnvelope':<!LimitGeneral|replace_cut!>,'jesSubTotalPileUp':<!LimitGeneral|replace_cut!>,'jesSubTotalRelative':<!LimitGeneral|replace_cut!>,'jesSubTotalPt':<!LimitGeneral|replace_cut!>,'jesSubTotalScale':<!LimitGeneral|replace_cut!>,'jesSubTotalAbsolute':<!LimitGeneral|replace_cut!>,'jesSubTotalMC':<!LimitGeneral|replace_cut!>,'jesTotal':<!LimitGeneral|replace_cut!>,'jesTotalNoFlavor':<!LimitGeneral|replace_cut!>,'jesTotalNoTime':<!LimitGeneral|replace_cut!>,'jesTotalNoFlavorNoTime':<!LimitGeneral|replace_cut!>,'jesFlavorZJet':<!LimitGeneral|replace_cut!>,'jesFlavorPhotonJet':<!LimitGeneral|replace_cut!>,'jesFlavorPureGluon':<!LimitGeneral|replace_cut!>,'jesFlavorPureQuark':<!LimitGeneral|replace_cut!>,'jesFlavorPureCharm':<!LimitGeneral|replace_cut!>,'jesFlavorPureBottom':<!LimitGeneral|replace_cut!>,'jesCorrelationGroupMPFInSitu':<!LimitGeneral|replace_cut!>,'jesCorrelationGroupIntercalibration':<!LimitGeneral|replace_cut!>,'jesCorrelationGroupbJES':<!LimitGeneral|replace_cut!>,'jesCorrelationGroupFlavor':<!LimitGeneral|replace_cut!>,'jesCorrelationGroupUncorrelated':<!LimitGeneral|replace_cut!>}

sys_cut_dict = dict(list({'H_reg_'+x+'>':'H_reg_mass_{syst}_{Up}>' for x in ['pt','eta','phi','mass']}.items())+list({'H_reg_'+x+'<':'H_reg_mass_{syst}_{Down}<' for x in ['pt','eta','phi','mass']}.items())+[('(Jet_Pt[hJidx[0]]/Jet_pt[hJidx[0]])>','(Jet_pt_{syst}{Up}[hJidx[0]]/Jet_pt[hJidx[0]])>'),('(Jet_Pt[hJidx[1]]/Jet_pt[hJidx[1]])>','(Jet_pt_{syst}{Up}[hJidx[1]]/Jet_pt[hJidx[1]])>'),('(Jet_Pt[hJidx[0]]/Jet_pt[hJidx[0]])<','(Jet_pt_{syst}{Down}[hJidx[0]]/Jet_pt[hJidx[0]])<'),('(Jet_Pt[hJidx[1]]/Jet_pt[hJidx[1]])<','(Jet_pt_{syst}{Down}[hJidx[1]]/Jet_pt[hJidx[1]])<')])

sys_weight_corr ={}
ggZH_ShowerShape = [
    ['ggZH_HToBB_ZToLL_M125_pow_ext1','ggZH_HToBB_ZToLL_M125_pow_ext2'],
    ['ggZH_HToBB_ZToLL_M125_13TeV_powheg_pythia8_CUETP8M1Down'],
    ['ggZH_HToBB_ZToLL_M125_13TeV_powheg_pythia8_CUETP8M1Up']]
ZH_ShowerShape = [
    ['ZH_HToBB_ZToLL_M125_pow','ZH_HToBB_ZToLL_M125_pow_ext1'],
    ['ZH_HToBB_ZToLL_M125_13TeV_powheg_pythia8_CUETP8M1Down'],
    ['ZH_HToBB_ZToLL_M125_13TeV_powheg_pythia8_CUETP8M1Up']]
;ZH_ShowerShape = [
;    ['ZH_HToBB_ZToLL_M125_pow','ZH_HToBB_ZToLL_M125_pow_ext1'],
;    ['ggZH_HToBB_ZToLL_M125_13TeV_powheg_pythia8_CUETP8M1Down'],
;    ['ggZH_HToBB_ZToLL_M125_13TeV_powheg_pythia8_CUETP8M1Up']]

;TODO for 2017
;sample_sys_info = {'CUETP8M1':[[<!LimitGeneral|ggZH_ShowerShape!>],[<!LimitGeneral|ZH_ShowerShape!>]]}

decorrelate_sys_weight = {
    'CMS_vhbb_LHE_weights_scale_muR_ZH':['qqZHbb'],
    'CMS_vhbb_LHE_weights_scale_muR_ggZH':['ggZHbb'],
    'CMS_vhbb_LHE_weights_scale_muR_TT':['TT'],
    'CMS_vhbb_LHE_weights_scale_muR_Zj0b':['Z_udscg'],
    'CMS_vhbb_LHE_weights_scale_muR_Zj1b':['Zb'],
    'CMS_vhbb_LHE_weights_scale_muR_Zj2b':['Zbb'],
    'CMS_vhbb_LHE_weights_scale_muF_ZH':['qqZHbb'],
    'CMS_vhbb_LHE_weights_scale_muF_ggZH':['ggZHbb'],
    'CMS_vhbb_LHE_weights_scale_muF_TT':['TT'],
    'CMS_vhbb_LHE_weights_scale_muF_Zj0b':['Z_udscg'],
    'CMS_vhbb_LHE_weights_scale_muF_Zj1b':['Zb'],
    'CMS_vhbb_LHE_weights_scale_muF_Zj2b':['Zbb'],
    'sigEWK':['qqZHbb']}
sys_cut_include = []

#!! --------------------------------------
##!! Options
##!! --------------------------------------
#!! rescale stat shapes by sqrtN
rescaleSqrtN: False
#!! blind Data
blind: True
;blind: False 
#!! toy Data
toy: False
#! bin-by-bin statistics (sqrtN doesn't apply). Put False for CR/True for BDT
;(Defined above)
binstat: True
;binstat: False
#!! no stat shapes at all: Put True for CR/False for BDT
;(Defined above)
ignore_stats: False
;ignore_stats: True
#!! inject signal, e.g. ZH125 (working?)
signal_inject: False
#!! add signal als BKG, e.g. ZH125 (working?)
add_signal_as_bkg: None


;!! --------------------------------------
;#!! Samples
;#!! --------------------------------------
;#!! Datacard samples setup (1st Signal, afterwards BKG)

;VH
setup: ['qqZHbb','ggZHbb','Z_udscg','Zb','Zbb','TT','VV','ST']
setupSignals: ['qqZHbb','ggZHbb']

Group = {
;Data
    'DoubleEG': 'DATA',
    'DoubleMuon': 'DATA',
;Signal
    'ZH': 'qqZHbb',
    'ggZH': 'ggZHbb',
;Drell-Yan
    'Z1Jets_Zm10to50_udscg':'Z_udscg','Z1Jets_Zm10to50_1b':'Zb','Z1Jets_Zm10to50_2b':'Zbb',\
    'Z2Jets_Zm10to50_udscg':'Z_udscg','Z2Jets_Zm10to50_1b':'Zb','Z2Jets_Zm10to50_2b':'Zbb',\
    'Z3Jets_Zm10to50_udscg':'Z_udscg','Z3Jets_Zm10to50_1b':'Zb','Z3Jets_Zm10to50_2b':'Zbb',\
    'M4HT70to100_udscg':'Z_udscg','M4HT70to100_1b':'Zb','M4HT70to100_2b':'Zbb',\
    'M4HT100to200_udscg':'Z_udscg','M4HT100to200_1b':'Zb','M4HT100to200_2b':'Zbb',\
    'M4HT200to400_udscg':'Z_udscg','M4HT200to400_1b':'Zb','M4HT200to400_2b':'Zbb',\
    'M4HT400to600_udscg':'Z_udscg','M4HT400to600_1b':'Zb','M4HT400to600_2b':'Zbb',\
    'M4HT600toInf_udscg':'Z_udscg','M4HT600toInf_1b':'Zb','M4HT600toInf_2b':'Zbb',\
;Zm50toInf
    'HT0to100ZJets_udscg': 'Z_udscg','HT0to100ZJets_1b':'Zb', 'HT0to100ZJets_2b':'Zbb',\
    'HT0to70ZJets_udscg':'Z_udscg','HT0to70ZJets_1b':'Zb','HT0to70ZJets_2b':'Zbb',\
    'HT0to70ZJets_udscg_ext2':'Z_udscg','HT0to70ZJets_1b_ext2':'Zb','HT0to70ZJets_2b_ext2':'Zbb',\
    'HT70to100ZJets_udscg':'Z_udscg','HT70to100ZJets_1b':'Zb','HT70to100ZJets_2b':'Zbb',\
    'HT100to200ZJets_udscg':'Z_udscg','HT100to200ZJets_1b':'Zb','HT100to200ZJets_2b':'Zbb','HT100to200ZJets_udscg_ext1':'Z_udscg','HT100to200ZJets_1b_ext1':'Zb','HT100to200ZJets_2b_ext1':'Zbb',\
    'HT200to400ZJets_udscg':'Z_udscg','HT200to400ZJets_1b':'Zb','HT200to400ZJets_2b':'Zbb','HT200to400ZJets_udscg_ext1':'Z_udscg','HT200to400ZJets_1b_ext1':'Zb','HT200to400ZJets_2b_ext1':'Zbb',\
    'HT400to600ZJets_udscg':'Z_udscg','HT400to600ZJets_1b':'Zb','HT400to600ZJets_2b':'Zbb','HT400to600ZJets_udscg_ext1':'Z_udscg','HT400to600ZJets_1b_ext1':'Zb','HT400to600ZJets_2b_ext1':'Zbb',\
    'HT600to800ZJets_udscg':'Z_udscg','HT600to800ZJets_1b':'Zb','HT600to800ZJets_2b':'Zbb',\
    'HT800to1200ZJets_udscg':'Z_udscg','HT800to1200ZJets_1b':'Zb','HT800to1200ZJets_2b':'Zbb',\
    'HT1200to2500ZJets_udscg':'Z_udscg','HT1200to2500ZJets_1b':'Zb','HT1200to2500ZJets_2b':'Zbb',\
    'HT2500toinfZJets_udscg':'Z_udscg','HT2500toinfZJets_1b':'Zb','HT2500toinfZJets_2b':'Zbb',\
;DYnlo
    'DYnlo1J50_udscg':'Z_udscg','DYnlo1J50_1b':'Zb','DYnlo1J50_2b':'Zbb',\
    'DYnlo1J150_udscg':'Z_udscg','DYnlo1J150_1b':'Zb','DYnlo1J150_2b':'Zbb',\
    'DYnlo1J250_udscg':'Z_udscg','DYnlo1J250_1b':'Zb','DYnlo1J250_2b':'Zbb',\
    'DYnlo1J400_udscg':'Z_udscg','DYnlo1J400_1b':'Zb','DYnlo1J400_2b':'Zbb',\
    'DYnlo2J50_udscg':'Z_udscg','DYnlo2J50_1b':'Zb','DYnlo2J50_2b':'Zbb',\
    'DYnlo2J150_udscg':'Z_udscg','DYnlo2J150_1b':'Zb','DYnlo2J150_2b':'Zbb',\
    'DYnlo2J250_udscg':'Z_udscg','DYnlo2J250_1b':'Zb','DYnlo2J250_2b':'Zbb',\
    'DYnlo2J400_udscg':'Z_udscg','DYnlo2J400_1b':'Zb','DYnlo2J400_2b':'Zbb',\
    'DYnloIncl_udscg':'Z_udscg','DYnloIncl_1b':'Zb','DYnloIncl_2b':'Zbb',\
;single-top
    'ST_s':'ST','ST_tW_antitop':'ST','ST_tW_antitop_ext1':'ST','ST_tW_top':'ST',\
;ttbar
    'TT_pow':'TT',\
    'TT_2l2n':'TT',\
;Diboson
    'WZpythia_lf':'VVlight','WZpythia_hf':'VV2b',\
    'WW':'VV','WZ':'VV','ZZ':'VV',\
    'ZZamc_lf':'VVlight','ZZamc_hf':'VV2b'}

#!! --------------------------------------
#!! Naming
#!! --------------------------------------
#!! naming of processes in the DC
Dict = {'VHbb':'VH', 'ZHbb': 'VH', 'qqZHbb':'ZH_hbb', 'ggZHbb':'ggZH_hbb', 'Zbb':'Zj2b','Zb':'Zj1b','Z_udscg':'Zj0b','TT':'TT','ST':'s_Top','VVlight':'VVLF','VV2b':'VVHF','VV':'VV'}

;new(more compact)
systematicsnaming= {
;sample sys
    'CUETP8M1':'CMS_vhbb_CUETP8M1',
;JER/JES sys
    "JER":"CMS_vhbb_res_j_13TeV",
    "PileUpDataMC":"CMS_vhbb_scale_j_PileUpDataMC_13TeV",
    "PileUpPtRef":"CMS_vhbb_scale_j_PileUpPtRef_13TeV",
    "PileUpPtBB":"CMS_vhbb_scale_j_PileUpPtBB_13TeV",
    "PileUpPtEC1":"CMS_vhbb_scale_j_PileUpPtEC1_13TeV",
    "RelativeJEREC1":"CMS_vhbb_scale_j_RelativeJEREC1_13TeV",
    "RelativeFSR":"CMS_vhbb_scale_j_RelativeFSR_13TeV",
    "RelativeStatFSR":"CMS_vhbb_scale_j_RelativeStatFSR_13TeV",
    "RelativeStatEC":"CMS_vhbb_scale_j_RelativeStatEC_13TeV",
    "RelativePtBB":"CMS_vhbb_scale_j_RelativePtBB_13TeV",
    "RelativePtEC1":"CMS_vhbb_scale_j_RelativePtEC1_13TeV",
    "AbsoluteScale":"CMS_vhbb_scale_j_AbsoluteScale_13TeV",
    "AbsoluteMPFBias":"CMS_vhbb_scale_j_AbsoluteMPFBias_13TeV",
    "AbsoluteStat":"CMS_vhbb_scale_j_AbsoluteStat_13TeV",
    "SinglePionECAL":"CMS_vhbb_scale_j_SinglePionECAL_13TeV",
    "SinglePionHCAL":"CMS_vhbb_scale_j_SinglePionHCAL_13TeV",
    "Fragmentation":"CMS_vhbb_scale_j_Fragmentation_13TeV",
    "TimePtEta":"CMS_vhbb_scale_j_TimePtEta_13TeV",
    "FlavorQCD":"CMS_vhbb_scale_j_FlavorQCD_13TeV",
    'PileUp':'CMS_vhbb_puWeight',
    'sigEWK':'CMS_vhbb_EWK_Zll',
    'CMS_vhbb_LHE_weights_scale_muR_ZH':'CMS_vhbb_LHE_weights_scale_muR_ZH',
    'CMS_vhbb_LHE_weights_scale_muR_ggZH':'CMS_vhbb_LHE_weights_scale_muR_ggZH',
    'CMS_vhbb_LHE_weights_scale_muR_TT':'CMS_vhbb_LHE_weights_scale_muR_TT',
    'CMS_vhbb_LHE_weights_scale_muR_Zj0b':'CMS_vhbb_LHE_weights_scale_muR_Zj0b',
    'CMS_vhbb_LHE_weights_scale_muR_Zj1b':'CMS_vhbb_LHE_weights_scale_muR_Zj1b',
    'CMS_vhbb_LHE_weights_scale_muR_Zj2b':'CMS_vhbb_LHE_weights_scale_muR_Zj2b',
    'CMS_vhbb_LHE_weights_scale_muF_ZH':'CMS_vhbb_LHE_weights_scale_muF_ZH',
    'CMS_vhbb_LHE_weights_scale_muF_ggZH':'CMS_vhbb_LHE_weights_scale_muF_ggZH',
    'CMS_vhbb_LHE_weights_scale_muF_TT':'CMS_vhbb_LHE_weights_scale_muF_TT',
    'CMS_vhbb_LHE_weights_scale_muF_Zj0b':'CMS_vhbb_LHE_weights_scale_muF_Zj0b',
    'CMS_vhbb_LHE_weights_scale_muF_Zj1b':'CMS_vhbb_LHE_weights_scale_muF_Zj1b',
    'CMS_vhbb_LHE_weights_scale_muF_Zj2b':'CMS_vhbb_LHE_weights_scale_muF_Zj2b',
;    'CMS_vhbb_eff_m_13TeV':'CMS_vhbb_eff_m_13TeV',
    'CMS_vhbb_eff_m_trigger_Zll_13TeV':'CMS_vhbb_eff_m_trigger_Zll_13TeV',
    'CMS_vhbb_eff_m_MVAID_Zll_13TeV':'CMS_vhbb_eff_m_MVAID_Zll_13TeV',
    'CMS_vhbb_eff_m_tracker_Zll_13TeV':'CMS_vhbb_eff_m_tracker_Zll_13TeV',
    'CMS_vhbb_eff_m_ISO_Zll_13TeV':'CMS_vhbb_eff_m_ISO_Zll_13TeV',
;    'CMS_vhbb_eff_e_13TeV':'CMS_vhbb_eff_e_13TeV',
    'CMS_vhbb_eff_e_trigger_Zll_13TeV':'CMS_vhbb_eff_e_trigger_Zll_13TeV',
    'CMS_vhbb_eff_e_MVAID_Zll_13TeV':'CMS_vhbb_eff_e_MVAID_Zll_13TeV',
    'CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV':'CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV',
    'CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV':'CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV',
    'CMS_vhbb_eff_e_tracker_Zll_13TeV':'CMS_vhbb_eff_e_tracker_Zll_13TeV',
    'JER':'CMS_vhbb_res_j_13TeV',
    'JES':'CMS_vhbb_scale_j_13TeV',
    'JER_UD_low':'CMS_vhbb_res_j_13TeV_low',
    'JER_UD_high':'CMS_vhbb_res_j_13TeV_high',
    'JER_UD_central':'CMS_vhbb_res_j_13TeV_central',
    'JER_UD_forward':'CMS_vhbb_res_j_13TeV_forward',
    'JEC_UD_low':'CMS_vhbb_scale_j_13TeV_low',
    'JEC_UD_high':'CMS_vhbb_scale_j_13TeV_high',
    'JEC_UD_central':'CMS_vhbb_scale_j_13TeV_central',
    'JEC_UD_forward':'CMS_vhbb_scale_j_13TeV_forward',
    'stats':'CMS_vhbb_stats',
    'weightF_sys':'UEPS',
    'weightF_QCD':'CMS_vhbb_boost_QCD',
    'model':'CMS_vhbb_Wj0bModel_ZnnHighPt_13TeV',
; b tag
    'bTagWeightDeepCSV_JES': 'CMS_vhbb_bTagWeightDeepCSV_JES',
    'bTagWeightDeepCSV_LF': 'CMS_vhbb_bTagWeightDeepCSV_LF',
    'bTagWeightDeepCSV_HF': 'CMS_vhbb_bTagWeightDeepCSV_HF',
    'bTagWeightDeepCSV_LFStats1': 'CMS_vhbb_bTagWeightDeepCSV_LFStats1',
    'bTagWeightDeepCSV_LFStats2': 'CMS_vhbb_bTagWeightDeepCSV_LFStats2',
    'bTagWeightDeepCSV_HFStats1': 'CMS_vhbb_bTagWeightDeepCSV_HFStats1',
    'bTagWeightDeepCSV_HFStats2': 'CMS_vhbb_bTagWeightDeepCSV_HFStats2',
    'bTagWeightDeepCSV_cErr1': 'CMS_vhbb_bTagWeightDeepCSV_cErr1',
    'bTagWeightDeepCSV_cErr2': 'CMS_vhbb_bTagWeightDeepCSV_cErr2',
; jet
    "jer": "CMS_vhbb_jer",
    "jesAbsoluteStat": "CMS_vhbb_jesAbsoluteStat",
    "jesAbsoluteScale": "CMS_vhbb_jesAbsoluteScale",
    "jesAbsoluteFlavMap": "CMS_vhbb_jesAbsoluteFlavMap",
    "jesAbsoluteMPFBias": "CMS_vhbb_jesAbsoluteMPFBias",
    "jesFragmentation": "CMS_vhbb_jesFragmentation",
    "jesSinglePionECAL": "CMS_vhbb_jesSinglePionECAL",
    "jesSinglePionHCAL": "CMS_vhbb_jesSinglePionHCAL",
    "jesFlavorQCD": "CMS_vhbb_jesFlavorQCD",
    "jesRelativeJEREC1": "CMS_vhbb_jesRelativeJEREC1",
    "jesRelativeJEREC2": "CMS_vhbb_jesRelativeJEREC2",
    "jesRelativeJERHF": "CMS_vhbb_jesRelativeJERHF",
    "jesRelativePtBB": "CMS_vhbb_jesRelativePtBB",
    "jesRelativePtEC1": "CMS_vhbb_jesRelativePtEC1",
    "jesRelativePtEC2": "CMS_vhbb_jesRelativePtEC2",
    "jesRelativePtHF": "CMS_vhbb_jesRelativePtHF",
    "jesRelativeBal": "CMS_vhbb_jesRelativeBal",
    "jesRelativeFSR": "CMS_vhbb_jesRelativeFSR",
    "jesRelativeStatFSR": "CMS_vhbb_jesRelativeStatFSR",
    "jesRelativeStatEC": "CMS_vhbb_jesRelativeStatEC",
    "jesRelativeStatHF": "CMS_vhbb_jesRelativeStatHF",
    "jesPileUpDataMC": "CMS_vhbb_jesPileUpDataMC",
    "jesPileUpPtRef": "CMS_vhbb_jesPileUpPtRef",
    "jesPileUpPtBB": "CMS_vhbb_jesPileUpPtBB",
    "jesPileUpPtEC1": "CMS_vhbb_jesPileUpPtEC1",
    "jesPileUpPtEC2": "CMS_vhbb_jesPileUpPtEC2",
    "jesPileUpPtHF": "CMS_vhbb_jesPileUpPtHF",
    "jesPileUpMuZero": "CMS_vhbb_jesPileUpMuZero",
    "jesPileUpEnvelope": "CMS_vhbb_jesPileUpEnvelope",
    "jesSubTotalPileUp": "CMS_vhbb_jesSubTotalPileUp",
    "jesSubTotalRelative": "CMS_vhbb_jesSubTotalRelative",
    "jesSubTotalPt": "CMS_vhbb_jesSubTotalPt",
    "jesSubTotalScale": "CMS_vhbb_jesSubTotalScale",
    "jesSubTotalAbsolute": "CMS_vhbb_jesSubTotalAbsolute",
    "jesSubTotalMC": "CMS_vhbb_jesSubTotalMC",
    "jesTotal": "CMS_vhbb_jesTotal",
    "jesTotalNoFlavor": "CMS_vhbb_jesTotalNoFlavor",
    "jesTotalNoTime": "CMS_vhbb_jesTotalNoTime",
    "jesTotalNoFlavorNoTime": "CMS_vhbb_jesTotalNoFlavorNoTime",
    "jesFlavorZJet": "CMS_vhbb_jesFlavorZJet",
    "jesFlavorPhotonJet": "CMS_vhbb_jesFlavorPhotonJet",
    "jesFlavorPureGluon": "CMS_vhbb_jesFlavorPureGluon",
    "jesFlavorPureQuark": "CMS_vhbb_jesFlavorPureQuark",
    "jesFlavorPureCharm": "CMS_vhbb_jesFlavorPureCharm",
    "jesFlavorPureBottom": "CMS_vhbb_jesFlavorPureBottom",
    "jesCorrelationGroupMPFInSitu": "CMS_vhbb_jesCorrelationGroupMPFInSitu",
    "jesCorrelationGroupIntercalibration": "CMS_vhbb_jesCorrelationGroupIntercalibration",
    "jesCorrelationGroupbJES": "CMS_vhbb_jesCorrelationGroupbJES",
    "jesCorrelationGroupFlavor": "CMS_vhbb_jesCorrelationGroupFlavor",
    "jesCorrelationGroupUncorrelated": "CMS_vhbb_jesCorrelationGroupUncorrelated",
    }

removeWeightSystematics = {'Zee': ['CMS_vhbb_eff_m_13TeV', 'CMS_vhbb_eff_m_trigger_Zll_13TeV', 'CMS_vhbb_eff_m_MVAID_Zll_13TeV', 'CMS_vhbb_eff_m_tracker_Zll_13TeV', 'CMS_vhbb_eff_m_ISO_Zll_13TeV'],
 'Zuu': ['CMS_vhbb_eff_e_13TeV', 'CMS_vhbb_eff_e_trigger_Zll_13TeV', 'CMS_vhbb_eff_e_MVAID_Zll_13TeV', 'CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV', 'CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV', 'CMS_vhbb_eff_e_tracker_Zll_13TeV']}

ptRegionsDict = {
                    'HighPtLooseBTag': ['HighPtLooseBTag'],
                    'HighPt': ['HighPt', 'ATLAS', 'MJJ'],
                    'MedPt': ['MedPt'],
                    'LowPt': ['lowPt'],
                    'bin0': ['Vptbin0'],
                    'bin1': ['Vptbin1'],
                    'bin2': ['Vptbin2'],
                    'bin150To200': ['Vptbin150To200'],
                    'bin200ToInf': ['Vptbin200ToInf'],
                }

;CR+SR
List: Zuu_CRZlight_lowpt,Zuu_CRZlight_highpt,Zee_CRZlight_lowpt,Zee_CRZlight_highpt,Zuu_CRZb_highpt,Zuu_CRZb_lowpt,Zee_CRZb_highpt,Zee_CRZb_lowpt,Zee_CRttbar_highpt,Zee_CRttbar_lowpt,Zuu_CRttbar_highpt,Zuu_CRttbar_lowpt,Zee_BDT_lowpt,Zee_BDT_highpt,Zuu_BDT_lowpt,Zuu_BDT_highpt

;;!! --------------------------------------
;;!! Datacards specific setup
;;!! --------------------------------------

;;List here the lnN sys in use
[Datacard]
rateParamRange = [0.2, 5.0]

;_*_*_*_*_*_*_*_*_*_*_*
;Systematics
;_*_*_*_*_*_*_*_*_*_*_*

InUseCommon = ['lumi_13TeV', 'pdf_qqbar', 'pdf_gg', 'QCDscale_VH', 'QCDscale_ttbar', 'QCDscale_VV', 'CMS_vhbb_boost_EWK_13TeV', 'CMS_vhbb_boost_QCD_13TeV', 'CMS_vhbb_ST', 'CMS_vhbb_VV','CMS_vhbb_LHE_weights_pdf_ZH','CMS_vhbb_LHE_weights_pdf_TT', 'CMS_vhbb_LHE_weights_pdf_Zj0b', 'CMS_vhbb_LHE_weights_pdf_Zj1b', 'CMS_vhbb_LHE_weights_pdf_Zj2b', 'CMS_vhbb_LHE_weights_pdf_VVHF', 'CMS_vhbb_LHE_weights_pdf_VVLF']
InUseCommon_HighPt = <!Datacard|InUseCommon!>
InUseCommon_LowPt = <!Datacard|InUseCommon!>
InUseSF = []
InUse_BDT_NoSysRegion = <!Datacard|InUseCommon!> + <!Datacard|InUseSF!>
InUse_cr_NoSysRegion = <!Datacard|InUseCommon!> + <!Datacard|InUseSF!>
; + ['QCDscale_VH_ggZHacceptance_highPt'] + ['QCDscale_VH_ggZHacceptance_lowPt']
;For category bdt
InUse_BDT_HighPt = <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']
InUse_BDT_LowPt = <!Datacard|InUseCommon_LowPt!> + ['QCDscale_VH_ggZHacceptance_lowPt']
;InUse_BDT_HighPt = <!Datacard|InUse_BDT_NoSysRegion!> + ['QCDscale_VH_ggZHacceptance_highPt']
;InUse_BDT_LowPt = <!Datacard|InUse_BDT_NoSysRegion!> + ['QCDscale_VH_ggZHacceptance_lowPt']
InUse_cr_HighPt= <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']
InUse_cr_LowPt= <!Datacard|InUseCommon_LowPt!> + ['QCDscale_VH_ggZHacceptance_lowPt']

;For Mass s/(s+b)
InUse_mjj_LowPt= <!Datacard|InUseCommon_LowPt!> + ['QCDscale_VH_ggZHacceptance_lowPt']
InUse_mjj_HighPt= <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']

;For Mass analysis
InUse_mjj_bin0 = <!Datacard|InUseCommon_LowPt!> + ['QCDscale_VH_ggZHacceptance_lowPt']
InUse_mjj_bin1 = <!Datacard|InUseCommon_LowPt!> + ['QCDscale_VH_ggZHacceptance_lowPt']
InUse_mjj_bin2 = <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']

InUse_mjj_bin150To200 =   <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']
InUse_mjj_bin200ToInf =   <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']


rateParams = ['SF_TT','SF_Zj0b','SF_Zjb','SF_Zj2b']
rateParams_BDT_HighPt =  ['SF_TT_high_Zll','SF_Zj0b_high_Zll','SF_Zjb_high_Zll','SF_Zj2b_high_Zll']
rateParams_BDT_LowPt =  ['SF_TT_low_Zll','SF_Zj0b_low_Zll','SF_Zjb_low_Zll','SF_Zj2b_low_Zll']
rateParams_BDT_NoSysRegion = <!Datacard|rateParams!>
rateParams_cr_NoSysRegion = <!Datacard|rateParams!>
rateParams_cr_HighPt = ['SF_TT_high_Zll','SF_Zj0b_high_Zll','SF_Zjb_high_Zll','SF_Zj2b_high_Zll']
rateParams_cr_LowPt = ['SF_TT_low_Zll','SF_Zj0b_low_Zll','SF_Zjb_low_Zll','SF_Zj2b_low_Zll']

;For Mass s/(s+b)
rateParams_mjj_HighPt = ['SF_TT_norm_high_Zll','SF_Zj0b_norm_high_Zll','SF_Zjb_norm_high_Zll','SF_Zj2b_norm_high_Zll']
rateParams_mjj_LowPt = ['SF_TT_norm_low_Zll','SF_Zj0b_norm_low_Zll','SF_Zjb_norm_low_Zll','SF_Zj2b_norm_low_Zll']
;For Mass analysis
rateParams_mjj_bin0 = ['SF_TT_low_Zll','SF_Zj0b_low_Zll','SF_Zjb_low_Zll','SF_Zj2b_low_Zll']
rateParams_mjj_bin1 = ['SF_TT_low_Zll','SF_Zj0b_low_Zll','SF_Zjb_low_Zll','SF_Zj2b_low_Zll']
rateParams_mjj_bin2 = ['SF_TT_high_Zll','SF_Zj0b_high_Zll','SF_Zjb_high_Zll','SF_Zj2b_high_Zll']

rateParams_mjj_bin150To200 =  ['SF_TT_high_Zll','SF_Zj0b_high_Zll','SF_Zjb_high_Zll','SF_Zj2b_high_Zll']
rateParams_mjj_bin200ToInf =  ['SF_TT_high_Zll','SF_Zj0b_high_Zll','SF_Zjb_high_Zll','SF_Zj2b_high_Zll']

;!! ---------------
;!! Sys definitions
;!! ---------------
;!!!Do not put Groups but same elements as in setup

;the systematic on luminosity is around 2% for all samples NOT data driven: ggZH, ZH, WH, VV, ST, QCD
lumi_13TeV =  {'type':'lnN', 'ggZHbb':1.024, 'qqZHbb':1.024, 'Z_udscg':1.024, 'Zb':1.024, 'Zbb':1.024, 'TT':1.024, 'ST':1.024,'VVlight':1.024,'VV2b':1.024,'VV':1.024}
lumi_13TeV_low = <!Datacard|lumi_13TeV!>
lumi_13TeV_high = <!Datacard|lumi_13TeV!>

;the systematic on qq PDF is around 1% for all samples NOT data driven and generate by qq: ZH, WH, VV, ST
pdf_qqbar = {'type':'lnN', 'ggZHbb':1.023,'VVlight':1.01,'VV2b':1.01, 'Z_udscg':1.01, 'Zb':1.01, 'Zbb':1.01, 'VV': 1.01}
pdf_qqbar_low = <!Datacard|pdf_qqbar!>
pdf_qqbar_high = <!Datacard|pdf_qqbar!>

;the systematic on qq PDF is around 1% for all samples NOT data driven and generate by gg: ggZH, ST, QCD
pdf_gg = {'type':'lnN', 'qqZHbb':1.18,'ST':1.01,'QCD':1.01, 'TT':1.01}
pdf_gg_low = <!Datacard|pdf_gg!>
pdf_gg_high = <!Datacard|pdf_gg!>

QCDscale_VH = {'type':'lnN','qqZHbb':1.04}
QCDscale_VH_low = <!Datacard|QCDscale_VH!>
QCDscale_VH_high = <!Datacard|QCDscale_VH!>
QCDscale_ttbar = {'type':'lnN', 'TT':1.06}
QCDscale_ttbar_low = <!Datacard|QCDscale_ttbar!>
QCDscale_ttbar_high = <!Datacard|QCDscale_ttbar!>
QCDscale_VV = {'type':'lnN', 'VVlight':1.04,'VV2b':1.04, 'VV':1.04}
QCDscale_VV_low = <!Datacard|QCDscale_VV!>
QCDscale_VV_high = <!Datacard|QCDscale_VV!>

CMS_vhbb_boost_EWK_13TeV = {'type':'lnN','ggZHbb':1.02}
CMS_vhbb_boost_EWK_13TeV_low = <!Datacard|CMS_vhbb_boost_EWK_13TeV!>
CMS_vhbb_boost_EWK_13TeV_high = <!Datacard|CMS_vhbb_boost_EWK_13TeV!>

CMS_vhbb_boost_QCD_13TeV = {'type':'lnN','ggZHbb':1.05}
CMS_vhbb_boost_QCD_13TeV_low = <!Datacard|CMS_vhbb_boost_QCD_13TeV!>
CMS_vhbb_boost_QCD_13TeV_high = <!Datacard|CMS_vhbb_boost_QCD_13TeV!>

CMS_vhbb_ST = {'type':'lnN', 'ST':1.15}
CMS_vhbb_ST_low = <!Datacard|CMS_vhbb_ST!>
CMS_vhbb_ST_high= <!Datacard|CMS_vhbb_ST!>

CMS_vhbb_VV = {'type':'lnN', 'VVlight':1.15,'VV2b':1.15,'VV':1.15}
CMS_vhbb_VV_low = <!Datacard|CMS_vhbb_VV!>
CMS_vhbb_VV_high= <!Datacard|CMS_vhbb_VV!>

CMS_vhbb_Z_udscg_SF_Zll_13TeV = {'type':'lnN', 'Z_udscg':1.013}
CMS_vhbb_Z_udscg_SF_Zll_13TeV_low = <!Datacard|CMS_vhbb_Z_udscg_SF_Zll_13TeV!>
CMS_vhbb_Z_udscg_SF_Zll_13TeV_high = <!Datacard|CMS_vhbb_Z_udscg_SF_Zll_13TeV!>

CMS_vhbb_Zjb_SF_Zll_13TeV = {'type':'lnN', 'Zb':1.054,'Zbb':1.054}
CMS_vhbb_Zjb_SF_Zll_13TeV_low = <!Datacard|CMS_vhbb_Zjb_SF_Zll_13TeV!>
CMS_vhbb_Zjb_SF_Zll_13TeV_high = <!Datacard|CMS_vhbb_Zjb_SF_Zll_13TeV!>

CMS_vhbb_TT_SF_Zll_13TeV = {'type':'lnN', 'TT':1.032}
CMS_vhbb_TT_SF_Zll_13TeV_low = <!Datacard|CMS_vhbb_TT_SF_Zll_13TeV!>
CMS_vhbb_TT_SF_Zll_13TeV_high = <!Datacard|CMS_vhbb_TT_SF_Zll_13TeV!>

CMS_vhbb_QCD_SF_Zll_13TeV = {'type':'lnN', 'QCD':1.04}
CMS_vhbb_QCD_SF_Zll_13TeV_low = <!Datacard|CMS_vhbb_QCD_SF_Zll_13TeV!>
CMS_vhbb_QCD_SF_Zll_13TeV_high = <!Datacard|CMS_vhbb_QCD_SF_Zll_13TeV!>

CMS_vhbb_eff_lep_13TeV = {'type':'lnN', 'qqZHbb':1.05, 'ggZHbb':1.05, 'Z_udscg':1.05, 'Zb':1.05, 'Zbb':1.05, 'TT':1.05,'ZH':1.05, 'ST':1.05,'VVlight':1.05,'VV2b':1.05,'VV':1.05}
CMS_vhbb_eff_e_13TeV = {'type':'lnN', 'qqZHbb':1.05, 'ggZHbb':1.05, 'Z_udscg':1.05, 'Zb':1.05, 'Zbb':1.05, 'TT':1.05,'ZH':1.05, 'ST':1.05,'VVlight':1.05,'VV2b':1.05,'VV':1.05}
CMS_vhbb_eff_m_13TeV = {'type':'lnN', 'qqZHbb':1.05, 'ggZHbb':1.05, 'Z_udscg':1.05, 'Zb':1.05, 'Zbb':1.05, 'TT':1.05,'ZH':1.05, 'ST':1.05,'VVlight':1.05,'VV2b':1.05,'VV':1.05}
CMS_vhbb_eff_lep_13TeV_low = <!Datacard|CMS_vhbb_eff_lep_13TeV!>
CMS_vhbb_eff_e_13TeV_low = <!Datacard|CMS_vhbb_eff_e_13TeV!>
CMS_vhbb_eff_lep_13TeV_high = <!Datacard|CMS_vhbb_eff_lep_13TeV!>
CMS_vhbb_eff_m_13TeV_high = <!Datacard|CMS_vhbb_eff_m_13TeV!>
;split lep sf
CMS_vhbb_eff_e_trigger_Zll_13TeV = <!Datacard|CMS_vhbb_eff_e_13TeV!>
CMS_vhbb_eff_e_MVAID_Zll_13TeV = <!Datacard|CMS_vhbb_eff_e_13TeV!>
CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV = <!Datacard|CMS_vhbb_eff_e_13TeV!>
CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV = <!Datacard|CMS_vhbb_eff_e_13TeV!>
CMS_vhbb_eff_e_tracker_Zll_13TeV = <!Datacard|CMS_vhbb_eff_e_13TeV!>
;split lep sf
CMS_vhbb_eff_m_trigger_Zll_13TeV = <!Datacard|CMS_vhbb_eff_m_13TeV!>
CMS_vhbb_eff_m_MVAID_Zll_13TeV = <!Datacard|CMS_vhbb_eff_m_13TeV!>
CMS_vhbb_eff_m_tracker_Zll_13TeV = <!Datacard|CMS_vhbb_eff_m_13TeV!>
CMS_vhbb_eff_m_ISO_Zll_13TeV = <!Datacard|CMS_vhbb_eff_m_13TeV!>

CMS_vhbb_LHE_weights_pdf_ZH = {'type':'lnN', 'qqZHbb':1.01}
CMS_vhbb_LHE_weights_pdf_TT = {'type':'lnN', 'TT':1.005}
CMS_vhbb_LHE_weights_pdf_Zj0b = {'type':'lnN', 'Z_udscg':1.05}
CMS_vhbb_LHE_weights_pdf_Zj1b = {'type':'lnN', 'Zb':1.03}
CMS_vhbb_LHE_weights_pdf_Zj2b = {'type':'lnN', 'Zbb':1.02}
CMS_vhbb_LHE_weights_pdf_VVHF = {'type':'lnN', 'VVlight':1.02}
CMS_vhbb_LHE_weights_pdf_VVLF = {'type':'lnN', 'VV2b':1.03}

QCDscale_VH_ggZHacceptance_lowPt = {'type':'lnN', 'ggZHbb':1.32}
QCDscale_VH_ggZHacceptance_highPt = {'type':'lnN', 'ggZHbb':1.32}

SF_TT   = {'TT':1}
SF_Zj0b  = {'Zj0b':1}
SF_Zjb  = {'Zj1b':1}
SF_Zj2b  = {'Zj2b':1}

SF_TT_norm_high_Zll   = {'TT':1}
SF_Zj0b_norm_high_Zll  = {'Zj0b':1}
SF_Zjb_norm_high_Zll  = {'Zj1b':1}
SF_Zj2b_norm_high_Zll  = {'Zj2b':1}
SF_Zjnb_norm_high_Zll  = {'Zj1b':1,'Zj2b':1}

SF_TT_norm_low_Zll   = {'TT':1}
SF_Zj0b_norm_low_Zll  = {'Zj0b':1}
SF_Zjb_norm_low_Zll  = {'Zj1b':1}
SF_Zj2b_norm_low_Zll  = {'Zj2b':1}
SF_Zjnb_norm_low_Zll  = {'Zj1b':1,'Zj2b':1}

SF_TT_high_Zll   = {'TT':1}
SF_Zj0b_high_Zll  = {'Zj0b':1}
SF_Zjb_high_Zll  = {'Zj1b':1}
SF_Zj2b_high_Zll  = {'Zj2b':1}
SF_Zjnb_high_Zll  = {'Zj1b':1,'Zj2b':1}

SF_TT_low_Zll   = {'TT':1}
SF_Zj0b_low_Zll  = {'Zj0b':1}
SF_Zjb_low_Zll  = {'Zj1b':1}
SF_Zj2b_low_Zll  = {'Zj2b':1}
SF_Zjnb_low_Zll  = {'Zj1b':1,'Zj2b':1}

#!! -------------------------
#!! Limit definitions
#!! -------------------------

;======================
;For SF fit (CR+SF)
;======================


;;Default
;VHsignals = <!Plot_general|allSIG!>
;VHbackgrounds = [<!Plot_general|allBKG!>]
;VVsignals = <!Plot_general|allSIGVV!>
;VVbackgrounds = [<!Plot_general|allBKGVV!>]

;
;VHsignals = <!Plot_general|allSIG!>
;VHsignals = <!Plot_general|allSIG!>
VHsignals = [<!Plot_general|allSIG!>]
;,<!Plot_general|sigVHPS!>]
VHbackgrounds = [<!Plot_general|allBKG!>]
VVsignals = [<!Plot_general|allSIGVV!>]
VVbackgrounds = [<!Plot_general|allBKGVV!>]

;;;;;;;;;;;;;;
;VH datacards
;;;;;;;;;;;;;;

;ELECTRON REGION

;low pt
[dc:Zee_CRZlight_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZlight_lowpt
cut = Zee_CRZlight_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRZlight_lowpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZlight_lowpt
[dc:Zee_CRZb_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZb_lowpt
cut = Zee_CRZb_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRZb_lowpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZb_lowpt
[dc:Zee_CRttbar_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRttbar_lowpt
cut = Zee_CRttbar_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRttbar_lowpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRttbar_lowpt
[dc:Zee_BDT_lowpt]
var = <!LimitGeneral|BDTlow!>
range = <!LimitGeneral|BDTrange!>
dcName = Zee_BDT_lowpt
cut = Zee_BDT_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_BDT_lowpt
data = <!Plot_general|eData!>
type= BDT
wsVarName = Zee_BDT_lowpt
;blindCuts = {'BDThigh_DeepCSV': 'ZllBDT_highptDeepCSV<-1.1', 'BDTlow_DeepCSV':'ZllBDT_lowptDeepCSV<0.0', 'ZllBDT_lowptDeepCSV.Nominal': 'ZllBDT_lowptDeepCSV.Nominal<0.0'}

;high pt

[dc:Zee_CRZlight_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZlight_highpt
cut = Zee_CRZlight_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRZlight_highpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZlight_highpt
[dc:Zee_CRZb_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZb_highpt
cut = Zee_CRZb_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRZb_highpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZb_highpt
[dc:Zee_CRttbar_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRttbar_highpt
cut = Zee_CRttbar_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRttbar_highpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRttbar_highpt
[dc:Zee_BDT_highpt]
var = <!LimitGeneral|BDThigh!>
range = <!LimitGeneral|BDTrange!>
;var = <!LimitGeneral|Mass!>
;range = <!LimitGeneral|MassRange!>
dcName = Zee_BDT_highpt
cut = Zee_BDT_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_BDT_highpt
data = <!Plot_general|eData!>
type= BDT
wsVarName = Zee_BDT_highpt
;blindCuts = {'BDThigh_DeepCSV': 'ZllBDT_highptDeepCSV<-1.1', 'BDTlow_DeepCSV':'ZllBDT_lowptDeepCSV<0.0', 'ZllBDT_highptDeepCSV.Nominal': 'ZllBDT_highptDeepCSV.Nominal<0.0'}

;Mass
[dc:ZeeMass_highpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZeeMass_highpt
cut = ZeeBDT_highpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZeeMass_highpt
data = <!Plot_general|eData!>
type= mjj
;SBweight = sb_weight_ZeeBDTVH_highpt
SBweight = VHbb::SoverSBWeight(ZllBDT_highptCMVA.Nominal,3)
wsVarName = ZeeMass_highpt
[dc:ZeeHighPt_13TeV]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZeeHighPt_13TeV
cut = ZeeBDT_highpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZeeHighPt_13TeV
data = <!Plot_general|eData!>
type= mjj
;SBweight = sb_weight_ZeeBDTVH_highpt
;SBweight = VHbb::SoverSBWeight(ZllBDT_highptCMVA.Nominal,3)
wsVarName = ZeeHighPt_13TeV

;MUON REGION

;low pt
[dc:Zuu_CRZlight_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZlight_lowpt
cut = Zuu_CRZlight_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRZlight_lowpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZlight_lowpt
[dc:Zuu_CRZb_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZb_lowpt
cut = Zuu_CRZb_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRZb_lowpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZb_lowpt
[dc:Zuu_CRttbar_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRttbar_lowpt
cut = Zuu_CRttbar_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRttbar_lowpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRttbar_lowpt
[dc:Zuu_BDT_lowpt]
var = <!LimitGeneral|BDTlow!>
range = <!LimitGeneral|BDTrange!>
;var = <!LimitGeneral|Mass!>
;range = <!LimitGeneral|MassRange!>
dcName = Zuu_BDT_lowpt
cut = Zuu_BDT_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_BDT_lowpt
data = <!Plot_general|muData!>
type= BDT
wsVarName = Zuu_BDT_lowpt
;blindCuts = {'BDThigh_DeepCSV': 'ZllBDT_highptDeepCSV<-1.1', 'BDTlow_DeepCSV':'ZllBDT_lowptDeepCSV<0.0', 'ZllBDT_lowptDeepCSV.Nominal': 'ZllBDT_lowptDeepCSV.Nominal<0.0'}

;Mass
[dc:ZuuMass_lowpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZuuMass_lowpt
cut = ZuuBDT_lowpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZuuMass_lowpt
data = <!Plot_general|muData!>
type= mjj
;SBweight = sb_weight_ZuuBDTVH_lowpt
SBweight = VHbb::SoverSBWeight(ZllBDT_lowptCMVA.Nominal,2)
wsVarName = ZuuMass_lowpt
[dc:ZuuLowPt_13TeV]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZuuLowPt_13TeV
cut = ZuuBDT_lowpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZuuLowPt_13TeV
data = <!Plot_general|muData!>
type= mjj
;SBweight = sb_weight_ZuuBDTVH_lowpt
;SBweight = VHbb::SoverSBWeight(ZllBDT_lowptCMVA.Nominal,2)
wsVarName = ZuuLowPt_13TeV

;high pt

[dc:Zuu_CRZlight_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZlight_highpt
cut = Zuu_CRZlight_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRZlight_highpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZlight_highpt
[dc:Zuu_CRZb_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZb_highpt
cut = Zuu_CRZb_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRZb_highpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZb_highpt
[dc:Zuu_CRttbar_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRttbar_highpt
cut = Zuu_CRttbar_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRttbar_highpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRttbar_highpt
[dc:Zuu_BDT_highpt]
var = <!LimitGeneral|BDThigh!>
range = <!LimitGeneral|BDTrange!>
;var = <!LimitGeneral|Mass!>
;range = <!LimitGeneral|MassRange!>
dcName = Zuu_BDT_highpt
cut = Zuu_BDT_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_BDT_highpt
data = <!Plot_general|muData!>
type= BDT
wsVarName = Zuu_BDT_highpt
;blindCuts = {'BDThigh_DeepCSV': 'ZllBDT_highptDeepCSV<-1.1', 'BDTlow_DeepCSV':'ZllBDT_lowptDeepCSV<0.0', 'ZllBDT_highptDeepCSV.Nominal': 'ZllBDT_highptDeepCSV.Nominal<0.0'}

;Mass
[dc:ZuuMass_highpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZuuMass_highpt
cut = ZuuBDT_highpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZuuMass_highpt
data = <!Plot_general|muData!>
type= mjj
;SBweight = sb_weight_ZuuBDTVH_highpt
SBweight = VHbb::SoverSBWeight(ZllBDT_highptCMVA.Nominal,4)
wsVarName = ZuuMass_highpt

[dc:ZuuHighPt_13TeV]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZuuHighPt_13TeV
cut = ZuuBDT_highpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZuuHighPt_13TeV
data = <!Plot_general|muData!>
type= mjj
;SBweight = sb_weight_ZuuBDTVH_highpt
;SBweight = VHbb::SoverSBWeight(ZllBDT_highptCMVA.Nominal,4)
wsVarName = ZuuHighPt_13TeV

;;;;
;VV
;;;;

;ELECTRON REGION

;CR
[dc:Zee_CRZb_inclVV_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZb_inclVV_lowpt
cut = Zee_CRZb_inclVV_lowpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = Zee_CRZb_inclVV_lowpt
data =  <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZb_inclVV_lowpt
[dc:Zee_CRZb_inclVV_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZb_inclVV_highpt
cut = Zee_CRZb_inclVV_highpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = Zee_CRZb_inclVV_highpt
data =  <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZb_inclVV_highpt
;SR
[dc:ZeeBDTVV_lowpt]
var = <!LimitGeneral|BDTVVlow!>
range = <!LimitGeneral|BDTrange!>
dcName = ZeeBDTVV_lowpt
cut = ZeeBDTVV_lowpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZeeBDTVV_lowpt
data =  <!Plot_general|eData!>
type= BDT
wsVarName = ZeeBDTVV_lowpt
;mass
[dc:ZeeMassVV_lowpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRangeVV!>
dcName = ZeeMassVV_lowpt
cut = ZeeBDTVV_lowpt_M
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZeeMassVV_lowpt
data =  <!Plot_general|eData!>
type= mjj
SBweight = sb_weight_ZeeBDT_lowpt
wsVarName = ZeeMassVV_lowpt
[dc:ZeeBDTVV_highpt]
var = <!LimitGeneral|BDTVVhigh!>
range = <!LimitGeneral|BDTrange!>
dcName = ZeeBDTVV_highpt
cut = ZeeBDTVV_highpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZeeBDTVV_highpt
data =  <!Plot_general|eData!>
type= BDT
wsVarName = ZeeBDTVV_highpt
;mass
[dc:ZeeMassVV_highpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRangeVV!>
dcName = ZeeMassVV_highpt
cut = ZeeBDTVV_highpt_M
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZeeMassVV_highpt
data =  <!Plot_general|eData!>
type=mjj
SBweight = sb_weight_ZeeBDT_highpt
wsVarName = ZeeMassVV_highpt

;MUON

;CR
[dc:Zuu_CRZb_inclVV_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZb_inclVV_lowpt
cut = Zuu_CRZb_inclVV_lowpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = Zuu_CRZb_inclVV_lowpt
data =  <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZb_inclVV_lowpt
[dc:Zuu_CRZb_inclVV_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZb_inclVV_highpt
cut = Zuu_CRZb_inclVV_highpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = Zuu_CRZb_inclVV_highpt
data =  <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZb_inclVV_highpt
;SR
[dc:ZuuBDTVV_lowpt]
var = <!LimitGeneral|BDTVVlow!>
range = <!LimitGeneral|BDTrange!>
dcName = ZuuBDTVV_lowpt
cut = ZuuBDTVV_lowpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZuuBDTVV_lowpt
data =  <!Plot_general|muData!>
type= BDT
wsVarName = ZuuBDTVV_lowpt
;mass
[dc:ZuuMassVV_lowpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRangeVV!>
dcName = ZuuMassVV_lowpt
cut = ZuuBDTVV_lowpt_M
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZuuMassVV_lowpt
data =  <!Plot_general|muData!>
type=mjj
SBweight = sb_weight_ZuuBDT_lowpt
wsVarName = ZuuMassVV_lowpt
[dc:ZuuBDTVV_highpt]
var = <!LimitGeneral|BDTVVhigh!>
range = <!LimitGeneral|BDTrange!>
dcName = ZuuBDTVV_highpt
cut = ZuuBDTVV_highpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZuuBDTVV_highpt
data =  <!Plot_general|muData!>
type= BDT
wsVarName = ZuuBDTVV_highpt
;mass
[dc:ZuuMassVV_highpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRangeVV!>
dcName = ZuuMassVV_highpt
cut = ZuuBDTVV_highpt_M
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZuuMassVV_highpt
data =  <!Plot_general|muData!>
type=mjj
SBweight = sb_weight_ZuuBDT_highpt
wsVarName = ZuuMassVV_highpt
