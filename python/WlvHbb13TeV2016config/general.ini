#! ------------------------
#!! GENERAL CONFIGURATION
#!! -------------------------

[General]

#Set as the lumi of each sample. What is the effect of this ? Doesn't seem to change anything for the ploting
; lumi = 1

#Set to True or False to display debug messages
Debug: True

[Sys]
;all = ['Sys.TTweights', 'Sys.EWKweights', 'Sys.BTagWeights', 'Sys.LeptonWeights', 'Sys.JetEnergySystematics', 'Sys.DYspecialWeight', 'addbranches']
boost = ['Sys.TheaCorr_msoftdrop','Sys.GetMaxbbtagIndex','Sys.DoubleBTagWeights']
boost2 =['Sys.BoostedSys','Sys.QCDweights','Sys.GetTopMass','Sys.GetWTMass']
;;;;
Vtype = VtypeCorrector.VtypeCorrector(channel='Wlv')
FitCorr = addFitCorr.addFitCorr()
TTweights = TTWeights.TTWeights()
EWKweights = EWKweights.EWKweights(boost=True)
BTagWeights = BTagWeights.BTagWeights()
LeptonWeights = LeptonWeights.LeptonWeights(channel='Wlv')
JetEnergySystematics = JetEnergySystematics.JetEnergySystematics(channel='Wlv', weights='./csv/gravall-v25.weights.xml')
DYspecialWeight = DYspecialWeight.DYspecialWeight()
PUweight = PUweight.PUweight(fileNameData='weights/pu/2016/outputData.root',fileNameMC='weights/pu/2016/mcpu.root',fileNameDataUp='weights/pu/2016/outputDataP.root',fileNameDataDown='weights/pu/2016/outputDataM.root')
DoubleBTagWeights = DoubleBTagWeights.DoubleBTagWeights()

#to compare yields with boosted analysis
TheaCorr_msoftdrop = TheaCorr_msoftdrop.TheaCorr_msoftdrop()
GetMaxbbtagIndex = GetMaxbbtagIndex.GetMaxbbtagIndex()
BoostedSys = BoostedSys.BoostedSys(1., 0.0094, 1, 0.20, 0.041)
QCDweights = QCDweights.QCDweights()
GetTopMass = GetTopMass.GetTopMass()
GetWTMass = GetWTMass.GetWTMass()


[Analysis]
tag = 13TeV

# BDT to discriminate Signal and Background
#!! If this Flag is used then 50% of MC samples will go in training and the rest will be scaled up by a factor of 2.
#!! if you train on 50% but then set it to 'False' while writing DC, then you get your biased training samples in the limit!!!
#!! be sure to have this right !!!
;#When computing SF from CR, set this flag to false
;if one wants to use Mjj -> put to False
;Rescale MC by factor 2 if true
TrainFlag = True
;TrainFlag = False

;Current BDT FOM: Cls of train/vs CLs of test sample. To produce the DC on train sample, set this flag to True.
;!!!IMPORTANT: BE SURE TO HAVE "UseTrainSample = False" WHEN COMPUTING THE FINAL LIMIT !!!
UseTrainSample = False
;UseTrainSample = True

;ALWAYS set to False, unless training to produce correlation plots
Data_as_signal = False

;!! -------------------------
;!! REGRESSION
;!! -------------------------
[Regression]
;Set to True for the  regression to be included during the 'sys' step.
;applyRegression = True
applyRegression = False
writeNewVariables={
    'BasicCutsCMVA':'(((Vtype_new == 0) & (vLeptons_new_relIso04[0] < 0.25 & vLeptons_new_relIso04[1] < 0.25) & (HLT_BIT_HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_v || HLT_BIT_HLT_Mu17_TrkIsoVVL_TkMu8_TrkIsoVVL_v || HLT_BIT_HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_DZ_v || HLT_BIT_HLT_Mu17_TrkIsoVVL_TkMu8_TrkIsoVVL_DZ_v)) || ((Vtype_new == 1) & vLeptons_new_relIso03[0] < 0.15 & vLeptons_new_relIso03[1] < 0.15 & HLT_BIT_HLT_Ele23_Ele12_CaloIdL_TrackIdL_IsoVL_DZ_v )) & (Jet_puId[hJCMVAV2idx[1]] >= 4) & (Jet_puId[hJCMVAV2idx[0]] >= 4)',\
;    'BasicCutsCSV':'(((Vtype_new == 0) & (vLeptons_new_relIso04[0] < 0.25 & vLeptons_new_relIso04[1] < 0.25) & (HLT_BIT_HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_v || HLT_BIT_HLT_Mu17_TrkIsoVVL_TkMu8_TrkIsoVVL_v || HLT_BIT_HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_DZ_v || HLT_BIT_HLT_Mu17_TrkIsoVVL_TkMu8_TrkIsoVVL_DZ_v)) || ((Vtype_new == 1) & vLeptons_new_relIso03[0] < 0.15 & vLeptons_new_relIso03[1] < 0.15 & HLT_BIT_HLT_Ele23_Ele12_CaloIdL_TrackIdL_IsoVL_DZ_v )) & (Jet_puId[hJCidx[0]] >= 4) & (Jet_puId[hJCidx[1]] >= 4) & ((min(Jet_puId[hJCidx[0]],Jet_puId[hJCidx[1]]) >= 7 & Jet_btagCSV[hJCidx[1]] > 0.52 & Jet_btagCSV[hJCidx[1]] < 0.55) || !(Jet_btagCSV[hJCidx[1]] > 0.52 & Jet_btagCSV[hJCidx[1]] < 0.55))',\
    'Jet_btagCMVAV2_0':'Jet_btagCMVAV2[hJCMVAV2idx[0]]',\
    'Jet_btagCMVAV2_1':'Jet_btagCMVAV2[hJCMVAV2idx[1]]'}

;regWeight = weights/MVA_BDT_REG_ZllHbbRegression_ZH_HToBB_ZToLL_M125_pow.weights.xml
regWeight = weights/TMVARegression_BDTG.weights.xml

regVars = ['Jet_pt','nPVs','Jet_eta','Jet_mt','Jet_leadTrackPt','Jet_leptonPtRel','Jet_leptonPt','Jet_leptonDeltaR','Jet_neHEF','Jet_neEmEF','Jet_vtxPt','Jet_vtxMass','Jet_vtx3dL','Jet_vtxNtrk','Jet_vtx3deL']

regDict = {'Jet_pt':'Alt$(Jet_pt[hJCidx[0]],0)','nPVs':'Alt$(nPVs,0)','Jet_eta':'Alt$(Jet_eta[hJCidx[0]],0)','Jet_mt':'Alt$(Jet_mt[hJCidx[0]],0)','Jet_leadTrackPt':'Alt$(Jet_leadTrackPt[hJCidx[0]],0)','Jet_leptonPtRel':'max(Alt$(Jet_leptonPtRel[hJCidx[0]],0),0)','Jet_leptonPt':'max(Alt$(Jet_leptonPt[hJCidx[0]],0),0)','Jet_leptonDeltaR':'max(Alt$(Jet_leptonDeltaR[hJCidx[0]],0),0)','Jet_neHEF':'Alt$(Jet_neHEF[hJCidx[0]],0)','Jet_neEmEF':'Alt$(Jet_neEmEF[hJCidx[0]],0)','Jet_vtxPt':'Alt$(Jet_vtxPt[hJCidx[0]],0)','Jet_vtxMass':'Alt$(Jet_vtxMass[hJCidx[0]],0)','Jet_vtx3dL':'Alt$(Jet_vtx3DVal[hJCidx[0]],0)','Jet_vtxNtrk':'Alt$(Jet_vtxNtracks[hJCidx[0]],0)','Jet_vtx3deL':'Alt$(Jet_vtx3DSig[hJCidx[0]],0)'}

regWeightFilterJets = weights/MVA_BDT_REG_MyRegression.weights.xml
regDictFilterJets = {"fathFilterJets_pt":"fathFilterJets_pt[0]","VHbb::evalJERBias(fathFilterJets_ptRaw,fathFilterJets_genPt,fathFilterJets_eta)":"VHbb::evalJERBias(fathFilterJets_ptRaw[0],fathFilterJets_genPt[0],fathFilterJets_eta[0])","rho25":"rho25","VHbb::evalEt(fathFilterJets_pt,fathFilterJets_eta,fathFilterJets_phi,fathFilterJets_e)":"VHbb::evalEt(fathFilterJets_pt[0],fathFilterJets_eta[0],fathFilterJets_phi[0],fathFilterJets_e[0])","VHbb::evalMt(fathFilterJets_pt,fathFilterJets_eta,fathFilterJets_phi,fathFilterJets_e)":"VHbb::evalMt(fathFilterJets_pt[0],fathFilterJets_eta[0],fathFilterJets_phi[0],fathFilterJets_e[0])","fathFilterJets_ptLeadTrack":"fathFilterJets_ptLeadTrack[0]","metPuppi_pt":"METet","VHbb::deltaPhi(met_phi,fathFilterJets_phi)":"VHbb::deltaPhi(met_phi,fathFilterJets_phi[0])"}
regVarsFilterJets = ["fathFilterJets_pt","VHbb::evalJERBias(fathFilterJets_ptRaw,fathFilterJets_genPt,fathFilterJets_eta)","rho25","VHbb::evalEt(fathFilterJets_pt,fathFilterJets_eta,fathFilterJets_phi,fathFilterJets_e)","VHbb::evalMt(fathFilterJets_pt,fathFilterJets_eta,fathFilterJets_phi,fathFilterJets_e)","fathFilterJets_ptLeadTrack","metPuppi_pt","VHbb::deltaPhi(met_phi,fathFilterJets_phi)"]


#Need this for the plotting
[VHbbNameSpace]
library=<!Directories|vhbbpath!>/interface/VHbbNameSpace_h.so
[BTagReshaping]
library=<!Directories|vhbbpath!>/interface/BTagReshaping_h.so
[BTagHFweights]
;file=<!Directories|vhbbpath!>/python/weights/csv_rwt_hf_IT_FlatSF_2015_07_27.root
;file=<!Directories|vhbbpath!>/python/weights/csv_rwt_fit_hf_2016_01_28.root
file=<!Directories|vhbbpath!>/python/weights/csv_rwt_fit_hf_76x_2016_02_08.root
[BTagLFweights]
;file=<!Directories|vhbbpath!>/python/weights/csv_rwt_lf_IT_FlatSF_2015_07_27.root
;file=<!Directories|vhbbpath!>/python/weights/csv_rwt_fit_lf_2016_01_28.root
file=<!Directories|vhbbpath!>/python/weights/csv_rwt_fit_lf_76x_2016_02_08.root

;;!! for the likelihood
[AngularLike]
backgrounds = ['Zbb','Zudsg','ttbar','ZZ']
yields = {'Zbb':584.8,'Zudsg':881.61,'ttbar':135.7,'ZZ':44.04,'Sig':5.13}

;!! --------------------------
;!! SYSTEMATICS
;!! --------------------------
;Note: it seems that the shape sys are hardcode in evaluateMVA. The lines below don't seem to have any effect for the moment
[systematics]
systematics = Nominal JER_Up JER_Down PileUpDataMC_Up PileUpDataMC_Down PileUpPtRef_Up PileUpPtRef_Down PileUpPtBB_Up PileUpPtBB_Down PileUpPtEC1_Up PileUpPtEC1_Down RelativeJEREC1_Up RelativeJEREC1_Down RelativeFSR_Up RelativeFSR_Down RelativeStatFSR_Up RelativeStatFSR_Down RelativeStatEC_Up RelativeStatEC_Down RelativePtBB_Up RelativePtBB_Down RelativePtEC1_Up RelativePtEC1_Down AbsoluteScale_Up AbsoluteScale_Down AbsoluteMPFBias_Up AbsoluteMPFBias_Down AbsoluteStat_Up AbsoluteStat_Down SinglePionECAL_Up SinglePionECAL_Down SinglePionHCAL_Up SinglePionHCAL_Down Fragmentation_Up Fragmentation_Down

;!! --------------------------------------------------
;!! Varibles definition for trainging and evaluation
;!! --------------------------------------------------
;
[BDTVarsBoost]

Nominal: V_new_pt FatjetAK08ungroomed_bbtag[Maxbbtagidx] FatjetAK08ungroomed_pt[Maxbbtagidx] FatjetAK08ungroomed_tau3[Maxbbtagidx] FatjetAK08ungroomed_tau2[Maxbbtagidx] FatjetAK08ungroomed_tau1[Maxbbtagidx] FatjetAK08ungroomed_tau2[Maxbbtagidx]/FatjetAK08ungroomed_tau1[Maxbbtagidx] FatjetAK08ungroomed_tau3[Maxbbtagidx]/FatjetAK08ungroomed_tau2[Maxbbtagidx] FatjetAK08ungroomed_puppi_TheaCorr[Maxbbtagidx]*FatjetAK08ungroomed_puppi_msoftdrop[Maxbbtagidx] abs(VHbb::deltaPhi(FatjetAK08ungroomed_phi[Maxbbtagidx],V_new_phi)) VHbb::deltaR(Jet_eta[hJCMVAV2idx[0]],Jet_phi[hJCMVAV2idx[0]],Jet_eta[hJCMVAV2idx[1]],Jet_phi[hJCMVAV2idx[1]]) Sum$(Jet_pt>25&abs(Jet_eta)<2.5&Jet_puId>0&Jet_id>0&VHbb::deltaR(FatjetAK08ungroomed_eta,FatjetAK08ungroomed_phi,Jet_eta,Jet_phi)<0.6&aJCidx!=(hJCMVAV2idx[0])&(aJCidx!=(hJCMVAV2idx[1])))

[BDTVarsResolved]

;Example: Nominal: H_mass H_pt V_pt hJets_btagCSV_1 Top1_mass_fromLepton_regPT_w4MET HVdPhi nAddJet_f lepMetDPhi softActivityVH_njets5 V_mt met_pt
Nominal: HCMVAV2_reg_mass HCMVAV2_reg_pt V_new_pt Jet_btagCMVAV2[hJCMVAV2idx[1]] Top1_mass_fromLepton_regPT_w4MET VHbb::deltaPhi(HCMVAV2_reg_phi,V_new_phi) Sum$(Jet_pt>25&&abs(Jet_eta)<2.9&&Jet_puId>0 &&Jet_pt!=Jet_pt[hJCMVAV2idx[0]]&&Jet_pt!=Jet_pt[hJCMVAV2idx[1]]) VHbb::deltaPhi(met_phi,<!Cuts|Lep_phi!>) softActivityVH_njets5 V_mt met_pt

;;;
;;;delete this
;;;
;;Nominal = FatjetAK08ungroomed_pt[Maxbbtagidx] FatjetAK08ungroomed_tau2[Maxbbtagidx]/FatjetAK08ungroomed_tau1[Maxbbtagidx] FatjetAK08ungroomed_tau3[Maxbbtagidx]/FatjetAK08ungroomed_tau2[Maxbbtagidx] FatjetAK08ungroomed_bbtag[Maxbbtagidx] FatjetAK08ungroomed_puppi_TheaCorr[Maxbbtagidx]*FatjetAK08ungroomed_puppi_msoftdrop[Maxbbtagidx] V_new_pt VHbb::deltaPhi(FatjetAK08ungroomed_pt[Maxbbtagidx],V_new_phi) FatjetAK08ungroomed_pt[Maxbbtagidx]/V_new_pt met_pt Sum$(Jet_pt>30&&abs(Jet_eta)<2.5&&Jet_puId>0&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) Delta %
;;
;;;Boosted variables 1-leptons
;;;copied from Stephane xml file
;;;
;;Nominal = V_pt FatjetAK08ungroomed_bbtag[Maxbbtagidx] FatjetAK08ungroomed_pt[Maxbbtagidx] FatjetAK08ungroomed_tau3[Maxbbtagidx] FatjetAK08ungroomed_tau2[Maxbbtagidx] FatjetAK08ungroomed_tau1[Maxbbtagidx] FatjetAK08ungroomed_tau2[Maxbbtagidx]/FatjetAK08ungroomed_tau1[Maxbbtagidx] FatjetAK08ungroomed_tau3[Maxbbtagidx]/FatjetAK08ungroomed_tau2[Maxbbtagidx] FatjetAK08ungroomed_puppi_TheaCorr[Maxbbtagidx]*FatjetAK08ungroomed_puppi_msoftdrop[Maxbbtagidx] VHbb::deltaPhi(FatjetAK08ungroomed_pt[Maxbbtagidx],V_new_phi) VHbb::deltaR(Jet_eta[hJCMVAV2idx[0]],Jet_phi[hJCMVAV2idx[0]],Jet_eta[hJCMVAV2idx[1]],Jet_phi[hJCMVAV2idx[1]]) Sum$(Jet_pt>25&abs(Jet_eta)<2.5&Jet_puId>0&Jet_id>0&0.6&VHbb::deltaR(FatjetAK08ungroomed_eta[Maxbbtagidx],FatjetAK08ungroomed_phi,Jet_eta,Jet_phi)
;
;;v8
;[ZllBDTVarsCMVA]
;Nominal: HCMVAV2_reg_mass HCMVAV2_reg_pt VHbb::deltaPhi(HCMVAV2_reg_phi,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0 hJetCMVAV2_pt_reg_1 V_new_mass Sum$(hJetCMVAV2_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta,HCMVAV2_reg_phi,V_new_eta,V_new_phi) met_pt
;
;JER_Up: HCMVAV2_reg_mass_corrJERUp HCMVAV2_reg_pt_corrJERUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrJERUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrJERUp hJetCMVAV2_pt_reg_1_corrJERUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrJERUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrJERUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrJERUp,HCMVAV2_reg_phi_corrJERUp,V_new_eta,V_new_phi) met_pt
;
;JER_Down: HCMVAV2_reg_mass_corrJERDown HCMVAV2_reg_pt_corrJERDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrJERDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrJERDown hJetCMVAV2_pt_reg_1_corrJERDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrJERDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrJERDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrJERDown,HCMVAV2_reg_phi_corrJERDown,V_new_eta,V_new_phi) met_pt
;
;PileUpDataMC_Up: HCMVAV2_reg_mass_corrPileUpDataMCUp HCMVAV2_reg_pt_corrPileUpDataMCUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrPileUpDataMCUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrPileUpDataMCUp hJetCMVAV2_pt_reg_1_corrPileUpDataMCUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrPileUpDataMCUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrPileUpDataMCUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrPileUpDataMCUp,HCMVAV2_reg_phi_corrPileUpDataMCUp,V_new_eta,V_new_phi) met_pt
;
;PileUpDataMC_Down: HCMVAV2_reg_mass_corrPileUpDataMCDown HCMVAV2_reg_pt_corrPileUpDataMCDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrPileUpDataMCDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrPileUpDataMCDown hJetCMVAV2_pt_reg_1_corrPileUpDataMCDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrPileUpDataMCDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrPileUpDataMCDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrPileUpDataMCDown,HCMVAV2_reg_phi_corrPileUpDataMCDown,V_new_eta,V_new_phi) met_pt
;
;PileUpPtRef_Up: HCMVAV2_reg_mass_corrPileUpPtRefUp HCMVAV2_reg_pt_corrPileUpPtRefUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrPileUpPtRefUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrPileUpPtRefUp hJetCMVAV2_pt_reg_1_corrPileUpPtRefUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrPileUpPtRefUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrPileUpPtRefUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrPileUpPtRefUp,HCMVAV2_reg_phi_corrPileUpPtRefUp,V_new_eta,V_new_phi) met_pt
;
;PileUpPtRef_Down: HCMVAV2_reg_mass_corrPileUpPtRefDown HCMVAV2_reg_pt_corrPileUpPtRefDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrPileUpPtRefDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrPileUpPtRefDown hJetCMVAV2_pt_reg_1_corrPileUpPtRefDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrPileUpPtRefDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrPileUpPtRefDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrPileUpPtRefDown,HCMVAV2_reg_phi_corrPileUpPtRefDown,V_new_eta,V_new_phi) met_pt
;
;PileUpPtBB_Up: HCMVAV2_reg_mass_corrPileUpPtBBUp HCMVAV2_reg_pt_corrPileUpPtBBUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrPileUpPtBBUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrPileUpPtBBUp hJetCMVAV2_pt_reg_1_corrPileUpPtBBUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrPileUpPtBBUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrPileUpPtBBUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrPileUpPtBBUp,HCMVAV2_reg_phi_corrPileUpPtBBUp,V_new_eta,V_new_phi) met_pt
;
;PileUpPtBB_Down: HCMVAV2_reg_mass_corrPileUpPtBBDown HCMVAV2_reg_pt_corrPileUpPtBBDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrPileUpPtBBDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrPileUpPtBBDown hJetCMVAV2_pt_reg_1_corrPileUpPtBBDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrPileUpPtBBDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrPileUpPtBBDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrPileUpPtBBDown,HCMVAV2_reg_phi_corrPileUpPtBBDown,V_new_eta,V_new_phi) met_pt
;
;PileUpPtEC1_Up: HCMVAV2_reg_mass_corrPileUpPtEC1Up HCMVAV2_reg_pt_corrPileUpPtEC1Up VHbb::deltaPhi(HCMVAV2_reg_phi_corrPileUpPtEC1Up,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrPileUpPtEC1Up hJetCMVAV2_pt_reg_1_corrPileUpPtEC1Up V_new_mass Sum$(hJetCMVAV2_pt_reg_corrPileUpPtEC1Up>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrPileUpPtEC1Up/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrPileUpPtEC1Up,HCMVAV2_reg_phi_corrPileUpPtEC1Up,V_new_eta,V_new_phi) met_pt
;
;PileUpPtEC1_Down: HCMVAV2_reg_mass_corrPileUpPtEC1Down HCMVAV2_reg_pt_corrPileUpPtEC1Down VHbb::deltaPhi(HCMVAV2_reg_phi_corrPileUpPtEC1Down,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrPileUpPtEC1Down hJetCMVAV2_pt_reg_1_corrPileUpPtEC1Down V_new_mass Sum$(hJetCMVAV2_pt_reg_corrPileUpPtEC1Down>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrPileUpPtEC1Down/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrPileUpPtEC1Down,HCMVAV2_reg_phi_corrPileUpPtEC1Down,V_new_eta,V_new_phi) met_pt
;
;RelativeJEREC1_Up: HCMVAV2_reg_mass_corrRelativeJEREC1Up HCMVAV2_reg_pt_corrRelativeJEREC1Up VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativeJEREC1Up,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativeJEREC1Up hJetCMVAV2_pt_reg_1_corrRelativeJEREC1Up V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativeJEREC1Up>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativeJEREC1Up/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativeJEREC1Up,HCMVAV2_reg_phi_corrRelativeJEREC1Up,V_new_eta,V_new_phi) met_pt
;
;RelativeJEREC1_Down: HCMVAV2_reg_mass_corrRelativeJEREC1Down HCMVAV2_reg_pt_corrRelativeJEREC1Down VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativeJEREC1Down,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativeJEREC1Down hJetCMVAV2_pt_reg_1_corrRelativeJEREC1Down V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativeJEREC1Down>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativeJEREC1Down/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativeJEREC1Down,HCMVAV2_reg_phi_corrRelativeJEREC1Down,V_new_eta,V_new_phi) met_pt
;
;RelativeFSR_Up: HCMVAV2_reg_mass_corrRelativeFSRUp HCMVAV2_reg_pt_corrRelativeFSRUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativeFSRUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativeFSRUp hJetCMVAV2_pt_reg_1_corrRelativeFSRUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativeFSRUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativeFSRUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativeFSRUp,HCMVAV2_reg_phi_corrRelativeFSRUp,V_new_eta,V_new_phi) met_pt
;
;RelativeFSR_Down: HCMVAV2_reg_mass_corrRelativeFSRDown HCMVAV2_reg_pt_corrRelativeFSRDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativeFSRDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativeFSRDown hJetCMVAV2_pt_reg_1_corrRelativeFSRDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativeFSRDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativeFSRDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativeFSRDown,HCMVAV2_reg_phi_corrRelativeFSRDown,V_new_eta,V_new_phi) met_pt
;
;RelativeStatFSR_Up: HCMVAV2_reg_mass_corrRelativeStatFSRUp HCMVAV2_reg_pt_corrRelativeStatFSRUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativeStatFSRUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativeStatFSRUp hJetCMVAV2_pt_reg_1_corrRelativeStatFSRUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativeStatFSRUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativeStatFSRUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativeStatFSRUp,HCMVAV2_reg_phi_corrRelativeStatFSRUp,V_new_eta,V_new_phi) met_pt
;
;RelativeStatFSR_Down: HCMVAV2_reg_mass_corrRelativeStatFSRDown HCMVAV2_reg_pt_corrRelativeStatFSRDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativeStatFSRDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativeStatFSRDown hJetCMVAV2_pt_reg_1_corrRelativeStatFSRDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativeStatFSRDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativeStatFSRDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativeStatFSRDown,HCMVAV2_reg_phi_corrRelativeStatFSRDown,V_new_eta,V_new_phi) met_pt
;
;RelativeStatEC_Up: HCMVAV2_reg_mass_corrRelativeStatECUp HCMVAV2_reg_pt_corrRelativeStatECUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativeStatECUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativeStatECUp hJetCMVAV2_pt_reg_1_corrRelativeStatECUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativeStatECUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativeStatECUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativeStatECUp,HCMVAV2_reg_phi_corrRelativeStatECUp,V_new_eta,V_new_phi) met_pt
;
;RelativeStatEC_Down: HCMVAV2_reg_mass_corrRelativeStatECDown HCMVAV2_reg_pt_corrRelativeStatECDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativeStatECDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativeStatECDown hJetCMVAV2_pt_reg_1_corrRelativeStatECDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativeStatECDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativeStatECDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativeStatECDown,HCMVAV2_reg_phi_corrRelativeStatECDown,V_new_eta,V_new_phi) met_pt
;
;RelativePtBB_Up: HCMVAV2_reg_mass_corrRelativePtBBUp HCMVAV2_reg_pt_corrRelativePtBBUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativePtBBUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativePtBBUp hJetCMVAV2_pt_reg_1_corrRelativePtBBUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativePtBBUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativePtBBUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativePtBBUp,HCMVAV2_reg_phi_corrRelativePtBBUp,V_new_eta,V_new_phi) met_pt
;
;RelativePtBB_Down: HCMVAV2_reg_mass_corrRelativePtBBDown HCMVAV2_reg_pt_corrRelativePtBBDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativePtBBDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativePtBBDown hJetCMVAV2_pt_reg_1_corrRelativePtBBDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativePtBBDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativePtBBDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativePtBBDown,HCMVAV2_reg_phi_corrRelativePtBBDown,V_new_eta,V_new_phi) met_pt
;
;RelativePtEC1_Up: HCMVAV2_reg_mass_corrRelativePtEC1Up HCMVAV2_reg_pt_corrRelativePtEC1Up VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativePtEC1Up,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativePtEC1Up hJetCMVAV2_pt_reg_1_corrRelativePtEC1Up V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativePtEC1Up>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativePtEC1Up/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativePtEC1Up,HCMVAV2_reg_phi_corrRelativePtEC1Up,V_new_eta,V_new_phi) met_pt
;
;RelativePtEC1_Down: HCMVAV2_reg_mass_corrRelativePtEC1Down HCMVAV2_reg_pt_corrRelativePtEC1Down VHbb::deltaPhi(HCMVAV2_reg_phi_corrRelativePtEC1Down,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrRelativePtEC1Down hJetCMVAV2_pt_reg_1_corrRelativePtEC1Down V_new_mass Sum$(hJetCMVAV2_pt_reg_corrRelativePtEC1Down>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrRelativePtEC1Down/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrRelativePtEC1Down,HCMVAV2_reg_phi_corrRelativePtEC1Down,V_new_eta,V_new_phi) met_pt
;
;AbsoluteScale_Up: HCMVAV2_reg_mass_corrAbsoluteScaleUp HCMVAV2_reg_pt_corrAbsoluteScaleUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrAbsoluteScaleUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrAbsoluteScaleUp hJetCMVAV2_pt_reg_1_corrAbsoluteScaleUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrAbsoluteScaleUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrAbsoluteScaleUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrAbsoluteScaleUp,HCMVAV2_reg_phi_corrAbsoluteScaleUp,V_new_eta,V_new_phi) met_pt
;
;AbsoluteScale_Down: HCMVAV2_reg_mass_corrAbsoluteScaleDown HCMVAV2_reg_pt_corrAbsoluteScaleDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrAbsoluteScaleDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrAbsoluteScaleDown hJetCMVAV2_pt_reg_1_corrAbsoluteScaleDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrAbsoluteScaleDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrAbsoluteScaleDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrAbsoluteScaleDown,HCMVAV2_reg_phi_corrAbsoluteScaleDown,V_new_eta,V_new_phi) met_pt
;
;AbsoluteMPFBias_Up: HCMVAV2_reg_mass_corrAbsoluteMPFBiasUp HCMVAV2_reg_pt_corrAbsoluteMPFBiasUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrAbsoluteMPFBiasUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrAbsoluteMPFBiasUp hJetCMVAV2_pt_reg_1_corrAbsoluteMPFBiasUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrAbsoluteMPFBiasUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrAbsoluteMPFBiasUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrAbsoluteMPFBiasUp,HCMVAV2_reg_phi_corrAbsoluteMPFBiasUp,V_new_eta,V_new_phi) met_pt
;
;AbsoluteMPFBias_Down: HCMVAV2_reg_mass_corrAbsoluteMPFBiasDown HCMVAV2_reg_pt_corrAbsoluteMPFBiasDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrAbsoluteMPFBiasDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrAbsoluteMPFBiasDown hJetCMVAV2_pt_reg_1_corrAbsoluteMPFBiasDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrAbsoluteMPFBiasDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrAbsoluteMPFBiasDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrAbsoluteMPFBiasDown,HCMVAV2_reg_phi_corrAbsoluteMPFBiasDown,V_new_eta,V_new_phi) met_pt
;
;AbsoluteStat_Up: HCMVAV2_reg_mass_corrAbsoluteStatUp HCMVAV2_reg_pt_corrAbsoluteStatUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrAbsoluteStatUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrAbsoluteStatUp hJetCMVAV2_pt_reg_1_corrAbsoluteStatUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrAbsoluteStatUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrAbsoluteStatUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrAbsoluteStatUp,HCMVAV2_reg_phi_corrAbsoluteStatUp,V_new_eta,V_new_phi) met_pt
;
;AbsoluteStat_Down: HCMVAV2_reg_mass_corrAbsoluteStatDown HCMVAV2_reg_pt_corrAbsoluteStatDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrAbsoluteStatDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrAbsoluteStatDown hJetCMVAV2_pt_reg_1_corrAbsoluteStatDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrAbsoluteStatDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrAbsoluteStatDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrAbsoluteStatDown,HCMVAV2_reg_phi_corrAbsoluteStatDown,V_new_eta,V_new_phi) met_pt
;
;SinglePionECAL_Up: HCMVAV2_reg_mass_corrSinglePionECALUp HCMVAV2_reg_pt_corrSinglePionECALUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrSinglePionECALUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrSinglePionECALUp hJetCMVAV2_pt_reg_1_corrSinglePionECALUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrSinglePionECALUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrSinglePionECALUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrSinglePionECALUp,HCMVAV2_reg_phi_corrSinglePionECALUp,V_new_eta,V_new_phi) met_pt
;
;SinglePionECAL_Down: HCMVAV2_reg_mass_corrSinglePionECALDown HCMVAV2_reg_pt_corrSinglePionECALDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrSinglePionECALDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrSinglePionECALDown hJetCMVAV2_pt_reg_1_corrSinglePionECALDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrSinglePionECALDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrSinglePionECALDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrSinglePionECALDown,HCMVAV2_reg_phi_corrSinglePionECALDown,V_new_eta,V_new_phi) met_pt
;
;SinglePionHCAL_Up: HCMVAV2_reg_mass_corrSinglePionHCALUp HCMVAV2_reg_pt_corrSinglePionHCALUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrSinglePionHCALUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrSinglePionHCALUp hJetCMVAV2_pt_reg_1_corrSinglePionHCALUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrSinglePionHCALUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrSinglePionHCALUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrSinglePionHCALUp,HCMVAV2_reg_phi_corrSinglePionHCALUp,V_new_eta,V_new_phi) met_pt
;
;SinglePionHCAL_Down: HCMVAV2_reg_mass_corrSinglePionHCALDown HCMVAV2_reg_pt_corrSinglePionHCALDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrSinglePionHCALDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrSinglePionHCALDown hJetCMVAV2_pt_reg_1_corrSinglePionHCALDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrSinglePionHCALDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrSinglePionHCALDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrSinglePionHCALDown,HCMVAV2_reg_phi_corrSinglePionHCALDown,V_new_eta,V_new_phi) met_pt
;
;Fragmentation_Up: HCMVAV2_reg_mass_corrFragmentationUp HCMVAV2_reg_pt_corrFragmentationUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrFragmentationUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrFragmentationUp hJetCMVAV2_pt_reg_1_corrFragmentationUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrFragmentationUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrFragmentationUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrFragmentationUp,HCMVAV2_reg_phi_corrFragmentationUp,V_new_eta,V_new_phi) met_pt
;
;Fragmentation_Down: HCMVAV2_reg_mass_corrFragmentationDown HCMVAV2_reg_pt_corrFragmentationDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrFragmentationDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrFragmentationDown hJetCMVAV2_pt_reg_1_corrFragmentationDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrFragmentationDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrFragmentationDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrFragmentationDown,HCMVAV2_reg_phi_corrFragmentationDown,V_new_eta,V_new_phi) met_pt
;
;TimePtEta_Up: HCMVAV2_reg_mass_corrTimePtEtaUp HCMVAV2_reg_pt_corrTimePtEtaUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrTimePtEtaUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrTimePtEtaUp hJetCMVAV2_pt_reg_1_corrTimePtEtaUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrTimePtEtaUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrTimePtEtaUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrTimePtEtaUp,HCMVAV2_reg_phi_corrTimePtEtaUp,V_new_eta,V_new_phi) met_pt
;
;TimePtEta_Down: HCMVAV2_reg_mass_corrTimePtEtaDown HCMVAV2_reg_pt_corrTimePtEtaDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrTimePtEtaDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrTimePtEtaDown hJetCMVAV2_pt_reg_1_corrTimePtEtaDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrTimePtEtaDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrTimePtEtaDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrTimePtEtaDown,HCMVAV2_reg_phi_corrTimePtEtaDown,V_new_eta,V_new_phi) met_pt
;
;FlavorQCD_Up: HCMVAV2_reg_mass_corrFlavorQCDUp HCMVAV2_reg_pt_corrFlavorQCDUp VHbb::deltaPhi(HCMVAV2_reg_phi_corrFlavorQCDUp,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrFlavorQCDUp hJetCMVAV2_pt_reg_1_corrFlavorQCDUp V_new_mass Sum$(hJetCMVAV2_pt_reg_corrFlavorQCDUp>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrFlavorQCDUp/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrFlavorQCDUp,HCMVAV2_reg_phi_corrFlavorQCDUp,V_new_eta,V_new_phi) met_pt
;
;FlavorQCD_Down: HCMVAV2_reg_mass_corrFlavorQCDDown HCMVAV2_reg_pt_corrFlavorQCDDown VHbb::deltaPhi(HCMVAV2_reg_phi_corrFlavorQCDDown,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] hJetCMVAV2_pt_reg_0_corrFlavorQCDDown hJetCMVAV2_pt_reg_1_corrFlavorQCDDown V_new_mass Sum$(hJetCMVAV2_pt_reg_corrFlavorQCDDown>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt_corrFlavorQCDDown/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta_corrFlavorQCDDown,HCMVAV2_reg_phi_corrFlavorQCDDown,V_new_eta,V_new_phi) met_pt

;;for BDT vs CSV check
;[ZllBDTVarsCMVA]
;;MVA
;Nominal: HCMVAV2_reg_mass HCMVAV2_reg_pt VHbb::deltaPhi(HCMVAV2_reg_phi,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] Jet_pt_reg[hJCMVAV2idx[0]] Jet_pt_reg[hJCMVAV2idx[1]] V_new_mass Sum$(Jet_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_pt/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_eta,HCMVAV2_reg_phi,V_new_eta,V_new_phi) met_pt
;
;JER_up: HCMVAV2_reg_corrJERUp_mass HCMVAV2_reg_corrJERUp_pt VHbb::deltaPhi(HCMVAV2_reg_corrJERUp_phi,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] Jet_pt_reg_corrJERUp[hJCMVAV2idx[0]] Jet_pt_reg_corrJERUp[hJCMVAV2idx[1]] V_mass Sum$(Jet_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_corrJERUp_pt/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_corrJERUp_eta,HCMVAV2_reg_corrJERUp_phi,V_new_eta,V_new_phi) met_pt
;
;JER_down:  HCMVAV2_reg_corrJERDown_mass HCMVAV2_reg_corrJERDown_pt VHbb::deltaPhi(HCMVAV2_reg_corrJERDown_phi,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] Jet_pt_reg_corrJERDown[hJCMVAV2idx[0]] Jet_pt_reg_corrJERDown[hJCMVAV2idx[1]] V_mass Sum$(Jet_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_corrJERDown_pt/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_corrJERDown_eta,HCMVAV2_reg_corrJERDown_phi,V_new_eta,V_new_phi) met_pt
;
;JES_up:  HCMVAV2_reg_corrJECUp_mass HCMVAV2_reg_corrJECUp_pt VHbb::deltaPhi(HCMVAV2_reg_corrJECUp_phi,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] Jet_pt_reg_corrJECUp[hJCMVAV2idx[0]] Jet_pt_reg_corrJECUp[hJCMVAV2idx[1]] V_mass Sum$(Jet_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_corrJECUp_pt/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_corrJECUp_eta,HCMVAV2_reg_corrJECUp_phi,V_new_eta,V_new_phi) met_pt
;
;JES_down: HCMVAV2_reg_corrJECDown_mass HCMVAV2_reg_corrJECDown_pt VHbb::deltaPhi(HCMVAV2_reg_corrJECDown_phi,V_new_phi) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] Jet_pt_reg_corrJECDown[hJCMVAV2idx[0]] Jet_pt_reg_corrJECDown[hJCMVAV2idx[1]] V_mass Sum$(Jet_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCMVAV2idx[0])&&(aJCidx!=(hJCMVAV2idx[1]))) V_new_pt (HCMVAV2_reg_corrJECDown_pt/V_new_pt) abs(Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) softActivityVH_njets5 VHbb::deltaR(HCMVAV2_reg_corrJECDown_eta,HCMVAV2_reg_corrJECDown_phi,V_new_eta,V_new_phi) met_pt


[ZllBDTVarsCSV]
;CSV
Nominal: HCSV_reg_mass HCSV_reg_pt VHbb::deltaPhi(HCSV_reg_phi,V_new_phi) Jet_btagCSV[hJCidx[0]] Jet_btagCSV[hJCidx[1]] Jet_pt_reg[hJCidx[0]] Jet_pt_reg[hJCidx[1]] V_new_mass Sum$(Jet_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCidx[0])&&(aJCidx!=(hJCidx[1]))) V_new_pt (HCSV_reg_pt/V_new_pt) abs(Jet_eta[hJCidx[0]]-Jet_eta[hJCidx[1]]) softActivityVH_njets5 VHbb::deltaR(HCSV_reg_eta,HCSV_reg_phi,V_new_eta,V_new_phi) met_pt

JER_up: HCSV_reg_corrJERUp_mass HCSV_reg_corrJERUp_pt VHbb::deltaPhi(HCSV_reg_corrJERUp_phi,V_new_phi) Jet_btagCSV[hJCidx[0]] Jet_btagCSV[hJCidx[1]] Jet_pt_reg_corrJERUp[hJCidx[0]] Jet_pt_reg_corrJERUp[hJCidx[1]] V_mass Sum$(Jet_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCidx[0])&&(aJCidx!=(hJCidx[1]))) V_new_pt (HCSV_reg_corrJERUp_pt/V_new_pt) abs(Jet_eta[hJCidx[0]]-Jet_eta[hJCidx[1]]) softActivityVH_njets5 VHbb::deltaR(HCSV_reg_corrJERUp_eta,HCSV_reg_corrJERUp_phi,V_new_eta,V_new_phi) met_pt
JER_down:  HCSV_reg_corrJERDown_mass HCSV_reg_corrJERDown_pt VHbb::deltaPhi(HCSV_reg_corrJERDown_phi,V_new_phi) Jet_btagCSV[hJCidx[0]] Jet_btagCSV[hJCidx[1]] Jet_pt_reg_corrJERDown[hJCidx[0]] Jet_pt_reg_corrJERDown[hJCidx[1]] V_mass Sum$(Jet_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCidx[0])&&(aJCidx!=(hJCidx[1]))) V_new_pt (HCSV_reg_corrJERDown_pt/V_new_pt) abs(Jet_eta[hJCidx[0]]-Jet_eta[hJCidx[1]]) softActivityVH_njets5 VHbb::deltaR(HCSV_reg_corrJERDown_eta,HCSV_reg_corrJERDown_phi,V_new_eta,V_new_phi) met_pt JES_up:  HCSV_reg_corrJECUp_mass HCSV_reg_corrJECUp_pt VHbb::deltaPhi(HCSV_reg_corrJECUp_phi,V_new_phi) Jet_btagCSV[hJCidx[0]] Jet_btagCSV[hJCidx[1]] Jet_pt_reg_corrJECUp[hJCidx[0]] Jet_pt_reg_corrJECUp[hJCidx[1]] V_mass Sum$(Jet_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCidx[0])&&(aJCidx!=(hJCidx[1]))) V_new_pt (HCSV_reg_corrJECUp_pt/V_new_pt) abs(Jet_eta[hJCidx[0]]-Jet_eta[hJCidx[1]]) softActivityVH_njets5 VHbb::deltaR(HCSV_reg_corrJECUp_eta,HCSV_reg_corrJECUp_phi,V_new_eta,V_new_phi) met_pt
JES_down: HCSV_reg_corrJECDown_mass HCSV_reg_corrJECDown_pt VHbb::deltaPhi(HCSV_reg_corrJECDown_phi,V_new_phi) Jet_btagCSV[hJCidx[0]] Jet_btagCSV[hJCidx[1]] Jet_pt_reg_corrJECDown[hJCidx[0]] Jet_pt_reg_corrJECDown[hJCidx[1]] V_mass Sum$(Jet_pt_reg>30&&abs(Jet_eta)<2.4&&Jet_puId==7&&Jet_id>0&&aJCidx!=(hJCidx[0])&&(aJCidx!=(hJCidx[1]))) V_new_pt (HCSV_reg_corrJECDown_pt/V_new_pt) abs(Jet_eta[hJCidx[0]]-Jet_eta[hJCidx[1]]) softActivityVH_njets5 VHbb::deltaR(HCSV_reg_corrJECDown_eta,HCSV_reg_corrJECDown_phi,V_new_eta,V_new_phi) met_pt

;
;beff_up: H_JES.pt_down HVdPhi metPuppi_pt hJet_btagCSVUp[0] hJet_btagCSVUp[1] addJetNoPU20-Sum$(isrJetVH>=0)-(nhjidxaddJetsdR08-2) max(hJet_pt[0],hJet_pt[1]) min(hJet_pt[0],hJet_pt[1]) naddGoodLeptons5 Max$(Jet_btagCSV[aJCidx])
;beff_down: H_JES.pt_down HVdPhi metPuppi_pt hJet_btagCSVDown[0] hJet_btagCSVDown[1] addJetNoPU20-Sum$(isrJetVH>=0)-(nhjidxaddJetsdR08-2) max(hJet_pt[0],hJet_pt[1]) min(hJet_pt[0],hJet_pt[1]) naddGoodLeptons5 Max$(Jet_btagCSV[aJCidx])
;
;bmis_up: H_JES.pt_down HVdPhi metPuppi_pt hJet_btagCSVFUp[0] hJet_btagCSVFUp[1] addJetNoPU20-Sum$(isrJetVH>=0)-(nhjidxaddJetsdR08-2) max(hJet_pt[0],hJet_pt[1]) min(hJet_pt[0],hJet_pt[1]) naddGoodLeptons5 Max$(Jet_btagCSV[aJCidx])
;bmis_down: H_JES.pt_down HVdPhi metPuppi_pt hJet_btagCSVFDown[0] hJet_btagCSVFDown[1] addJetNoPU20-Sum$(isrJetVH>=0)-(nhjidxaddJetsdR08-2) max(hJet_pt[0],hJet_pt[1]) min(hJet_pt[0],hJet_pt[1]) naddGoodLeptons5 Max$(Jet_btagCSV[aJCidx])
;
;;###FIXME###  beff1 is identical to bmis
;beff1_up: H_JES.pt_down HVdPhi metPuppi_pt hJet_btagCSVFUp[0] hJet_btagCSVFUp[1] addJetNoPU20-Sum$(isrJetVH>=0)-(nhjidxaddJetsdR08-2) max(hJet_pt[0],hJet_pt[1]) min(hJet_pt[0],hJet_pt[1]) naddGoodLeptons5 Max$(Jet_btagCSV[aJCidx])
;beff1_down: H_JES.pt_down HVdPhi metPuppi_pt hJet_btagCSVFDown[0] hJet_btagCSVFDown[1] addJetNoPU20-Sum$(isrJetVH>=0)-(nhjidxaddJetsdR08-2) max(hJet_pt[0],hJet_pt[1]) min(hJet_pt[0],hJet_pt[1]) naddGoodLeptons5 Max$(Jet_btagCSV[aJCidx])

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; other things:


[Samples]

;Put Data: in order to remove data points from the plot
Data: ['data_SM_Run2015D_25ns_16Dec2015','data_SM_Run2015C_25ns_16Dec2015','SingleElectron__Run2015D_16Dec2015','SingleElectron__Run2015C_25ns-16Dec2015-v1']
;Data: []

;#!!_*_*_*_*_*_
;#MC Samples
;#!!_*_*_*_*_*_


;#!!_*_*_*_*_*_
;#Drell-Yan
;#!!_*_*_*_*_*_

;
;Inclusive samples
;

;inclusive HT<100
DYinclHT0to100: 'HT0to100ZJets_udscg','HT0to100ZJets_1b','HT0to100ZJets_2b'
DYinclHT0to100_ext:'HT0to100ZJets_udscg_ext1','HT0to100ZJets_1b_ext1','HT0to100ZJets_2b_ext1'
;HT binned
DYHT:'HT100to200ZJets_udscg','HT100to200ZJets_1b','HT100to200ZJets_2b','HT200to400ZJets_udscg','HT200to400ZJets_1b','HT200to400ZJets_2b','HT400to600ZJets_udscg','HT400to600ZJets_1b','HT400to600ZJets_2b','HT600toInfZJets_udscg','HT600toInfZJets_1b','HT600toInfZJets_2b'

;HT binned ext
DYHT_ext:'HT100to200ZJets_udscg_ext1','HT100to200ZJets_1b_ext1','HT100to200ZJets_2b_ext1'
;not working
;,'HT600toInfZJets_udscg_ext1','HT600toInfZJets_1b_ext1','HT600toInfZJets_2b_ext1'
;'HT400to600ZJets_udscg_ext1','HT400to600ZJets_1b_ext1','HT400to600ZJets_2b_ext1'
;all samples
DYinclHT: <!Plot_general|DYHT!>,<!Plot_general|DYinclHT0to100!>
DYinclHT_ext: <!Plot_general|DYHT_ext!>,<!Plot_general|DYinclHT0to100_ext!>

;
;b-enriched samples
;

;b-enr
DYB: 'ZJetsB_udscg','ZJetsB_1b','ZJetsB_2b'
;bGenfilter
DYBGenF: 'ZJetsGenB_udscg','ZJetsGenB_1b','ZJetsGenB_2b'

;5to50
;inclusive
DY5to50: 'ZJets_Zm5to50_HTincl_udscg','ZJets_Zm5to50_HTincl_1b','ZJets_Zm5to50_HTincl_2b'
;HT 100 to 200
DY5to50HT100: 'ZJets_Zm5to50_HT100to200_udscg','ZJets_Zm5to50_HT100to200_1b','ZJets_Zm100to200_HTincl_2b'
DY5to50HT100_ext:'ZJets_Zm5to50_HT100to200_udscg_ext1','ZJets_Zm5to50_HT100to200_1b_ext1','ZJets_Zm100to200_HTincl_2b_ext1'
;HT 200 to 400
DY5to50HT200: 'ZJets_Zm5to50_HT200to400_udscg','ZJets_Zm5to50_HT200to400_1b','ZJets_Zm200to400_HTincl_2b'
DY5to50HT200_ext:'ZJets_Zm5to50_HT200to400_udscg_ext1','ZJets_Zm5to50_HT200to400_1b_ext1','ZJets_Zm200to400_HTincl_2b_ext1'
;HT 400 to 600
DY5to50HT400: 'ZJets_Zm5to50_HT400to600_udscg','ZJets_Zm5to50_HT400to600_1b','ZJets_Zm400to600_HTincl_2b'
;HT 600 to inf
DY5to50HT600: 'ZJets_Zm5to50_HT600toInf_udscg','ZJets_Zm5to50_HT600toInf_1b','ZJets_Zm600toInf_HTincl_2b'
DY5to50HT600_ext:'ZJets_Zm5to50_HT600toInf_udscg_ext1','ZJets_Zm5to50_HT600toInf_1b_ext1','ZJets_Zm600toInf_HTincl_2b_ext1'
;5to50 all HT
DY5to50HT: <!Plot_general|DY5to50HT100!>,<!Plot_general|DY5to50HT200!>,<!Plot_general|DY5to50HT400!>,<!Plot_general|DY5to50HT600!>
DY5to50HT_ext: <!Plot_general|DY5to50HT100_ext!>,<!Plot_general|DY5to50HT200_ext!>,<!Plot_general|DY5to50HT600_ext!>

;Stiching samples

;final noext, noB
;DY_noext: <!Plot_general|DYinclHT!>,<!Plot_general|DY5to50HT!>
;DY: <!Plot_general|DY_noext!>

;final noB
;DY_noext: <!Plot_general|DYinclHT!>,<!Plot_general|DY5to50HT!>
;DY_ext: <!Plot_general|DYinclHT_ext!>,<!Plot_general|DY5to50HT_ext!>
;
;DY: <!Plot_general|DY_noext!>,<!Plot_general|DY_ext!>

;final
DY_noext: <!Plot_general|DYinclHT!>,<!Plot_general|DYB!>,<!Plot_general|DYBGenF!>,<!Plot_general|DY5to50HT!>
DY_ext: <!Plot_general|DYinclHT_ext!>,<!Plot_general|DY5to50HT_ext!>
DY: <!Plot_general|DY_noext!>,<!Plot_general|DY_ext!>

;other DY

;inclusive no spliting
;DYinclnosplit: 'DYJets'
;
;inclusive HT>100
;DYinclHT100toInf: 'HT100toInfZJets_udscg','HT100toInfZJets_1b','HT100toInfZJets_2b'
;
;inclusive sample
;DYincl: 'ZJets_udscg','ZJets_1b','ZJets_2b'
;amc@nlo
;DYnlo: 'ZJets_amc_udscg','ZJets_amc_1b','ZJets_amc_2b'


;#!!_*_*_*_*_*_
;#Single-top
;#!!_*_*_*_*_*_

;noext
;ST: 'ST_s','ST_tW_antitop','ST_tW_top'
;final
ST: 'ST_s','ST_t_ext1','ST_tW_antitop','ST_tW_top'

;#!!_*_*_*_*_*_
;#TTbar
;#!!_*_*_*_*_*_

TT: 'TT_pow'

;other TT
;TT: 'TT_mad'

;#!!_*_*_*_*_*_
;#DiBoson
;#!!_*_*_*_*_*_

WW: 'WWpythia_udscg','WWpythia_1b','WWpythia_2b'
WZ: 'WZpythia_udscg','WZpythia_1b','WZpythia_2b'
ZZ: 'ZZpythia_udscg','ZZpythia_1b','ZZpythia_2b'

;#!!_*_*_*_*_*_
;#QCD
;#!!_*_*_*_*_*_

QCDHT: 'QCD_HT1000to1500_TuneCUETP8M1','QCD_HT100to200_TuneCUETP8M1','QCD_HT1500to2000_TuneCUETP8M1','QCD_HT2000toInf_TuneCUETP8M1','QCD_HT200to300_TuneCUETP8M1','QCD_HT500to700_TuneCUETP8M1','QCD_HT700to1000_TuneCUETP8M1'

;#!!_*_*_*_*_*_
;#Signal
;#!!_*_*_*_*_*_

;noext
;#!! Signal MC Samples to be used for the plotting.
;allSIG: 'ZH_HToBB_ZToLL_M125_pow','ggZH_HToBB_ZToLL_M125_pow'
;#!! Signal
;plot_mass: ZH_HToBB_ZToLL_M125_pow ggZH_HToBB_ZToLL_M125_pow

;final
;#!! Signal MC Samples to be used for the plotting.
allSIG: 'ZH_HToBB_ZToLL_M125_pow','ggZH_HToBB_ZToLL_M125_pow','ZH_HToBB_ZToLL_M125_pow_ext1','ggZH_HToBB_ZToLL_M125_pow_ext1','ggZH_HToBB_ZToLL_M125_pow_ext2'
;#!! Signal
plot_mass: ZH_HToBB_ZToLL_M125_pow ggZH_HToBB_ZToLL_M125_pow ZH_HToBB_ZToLL_M125_pow_ext1 ggZH_HToBB_ZToLL_M125_pow_ext1 ggZH_HToBB_ZToLL_M125_pow_ext2

;#!!_*_*_*_*_*_
;#Background
;#!!_*_*_*_*_*_

;#!! BKG MC Samples to be used for the plotting.
allBKG: <!Plot_general|DY!>,<!Plot_general|ST!>,<!Plot_general|TT!>,<!Plot_general|WW!>,<!Plot_general|WZ!>,<!Plot_general|ZZ!>

;#!!_*_*_*_*_*_
;#Final MC samples
;#!!_*_*_*_*_*_

;#!! MC Samples to be used in the ploting step
samples: [<!Plot_general|allBKG!>,<!Plot_general|allSIG!>]
;samples: ['WWpythia_1b']

;#!!_*_*_*_*_*_
;#Group
;#!!_*_*_*_*_*_
;
;#!! Groups for adding samples together and for the legend {'sampleName':'sampleGroup',...}.Need to put data as well
;Group: {
;;;;;
;;DY
;;;;;
;    'DYJets':'DYJets',\
;    'ZJets_udscg':'Z_udscg','ZJets_1b':'Zb','ZJets_2b':'Zbb',\
;    'HT100to200ZJets_udscg':'Z_udscg','HT100to200ZJets_1b':'Zb','HT100to200ZJets_2b':'Zbb',\
;    'HT200to400ZJets_udscg':'Z_udscg','HT200to400ZJets_1b':'Zb','HT200to400ZJets_2b':'Zbb','HT400to600ZJets_udscg':'Z_udscg','HT400to600ZJets_1b':'Zb','HT400to600ZJets_2b':'Zbb',\
;    'HT600toInfZJets_udscg':'Z_udscg','HT600toInfZJets_1b':'Zb','HT600toInfZJets_2b':'Zbb',\
;    'HT0to100ZJets_udscg':'Z_udscg','HT0to100ZJets_1b':'Zb','HT0to100ZJets_2b':'Zbb',\
;    'HT100toInfZJets_udscg':'Z_udscg','HT100toInfZJets_1b':'Zb','HT100toInfZJets_2b':'Zbb',\
;;DY ext
;    'HT100to200ZJets_udscg_ext1':'Z_udscg','HT100to200ZJets_1b_ext1':'Zb','HT100to200ZJets_2b_ext1':'Zbb',\
;    'HT400to600ZJets_udscg_ext1':'Z_udscg','HT400to600ZJets_1b_ext1':'Zb','HT400to600ZJets_2b_ext1':'Zbb',\
;    'HT600toInfZJets_udscg_ext1':'Z_udscg','HT600toInfZJets_1b_ext1':'Zb','HT600toInfZJets_2b_ext1':'Zbb',\
;    'HT0to100ZJets_udscg_ext1':'Z_udscg','HT0to100ZJets_1b_ext1':'Zb','HT0to100ZJets_2b_ext1':'Zbb',\
;;DYnlo
;    'ZJets_amc_udscg':'Z_udscg','ZJets_amc_1b':'Zb','ZJets_amc_2b':'Zbb',\
;;DY5to50
;    'ZJets_Zm5to50_HTincl_udscg':'Z_udscg','ZJets_Zm5to50_HTincl_1b':'Zb','ZJets_Zm5to50_HTincl_2b':'Zbb',\
;;HT 100 to 200
;    'ZJets_Zm5to50_HT100to200_udscg':'Z_udscg','ZJets_Zm5to50_HT100to200_1b':'Zb','ZJets_Zm100to200_HTincl_2b':'Zbb','ZJets_Zm5to50_HT100to200_udscg_ext1':'Z_udscg','ZJets_Zm5to50_HT100to200_1b_ext1':'Zb','ZJets_Zm100to200_HTincl_2b_ext1':'Zbb',\
;;HT 200 to 400
;    'ZJets_Zm5to50_HT200to400_udscg':'Z_udscg','ZJets_Zm5to50_HT200to400_1b':'Zb','ZJets_Zm200to400_HTincl_2b':'Zbb','ZJets_Zm5to50_HT200to400_udscg_ext1':'Z_udscg','ZJets_Zm5to50_HT200to400_1b_ext1':'Zb','ZJets_Zm200to400_HTincl_2b_ext1':'Zbb',\
;;HT 400 to 600
;     'ZJets_Zm5to50_HT400to600_udscg':'Z_udscg','ZJets_Zm5to50_HT400to600_1b':'Zb','ZJets_Zm400to600_HTincl_2b':'Zbb',\
;;HT 600 to inf
;     'ZJets_Zm5to50_HT600toInf_udscg':'Z_udscg','ZJets_Zm5to50_HT600toInf_1b':'Zb','ZJets_Zm600toInf_HTincl_2b':'Zbb','ZJets_Zm5to50_HT600toInf_udscg_ext1':'Z_udscg','ZJets_Zm5to50_HT600toInf_1b_ext1':'Zb','ZJets_Zm600toInf_HTincl_2b_ext1':'Zbb',\
;;DYB:
;    'ZJetsB_udscg':'Z_udscg','ZJetsB_1b':'Zb','ZJetsB_2b':'Zbb',\
;    'ZJetsGenB_udscg':'Z_udscg','ZJetsGenB_1b':'Zb','ZJetsGenB_2b':'Zbb',\
;;;;;
;;SIG
;;;;;
;    'ZH_HToBB_ZToLL_M125_pow':'ZHbb','ZH_HToBB_ZToLL_M125_pow_ext1':'ZHbb','ggZH_HToBB_ZToLL_M125_pow':'ZHbb','ggZH_HToBB_ZToLL_M125_pow_ext1':'ZHbb','ggZH_HToBB_ZToLL_M125_pow_ext2':'ZHbb',\
;    'ST_s':'ST','ST_t':'ST','ST_t_ext1':'ST','ST_tW_antitop':'ST','ST_tW_top':'ST',\
;
;;;;;
;;TT
;;;;;
;    'TT_mad':'TT','TT_pow':'TT',\
;    'WJetsMad_light':'WJets','WJetsMad_c':'WJets','WJetsMad_1b':'WJets','WJetsMad_2b':'WJets',\
;    'WZpythia_udscg':'VVlight','WZJets_TuneCUETP8M1':'DiBoson','WWpythia_udscg':'VVlight','WWpythia_c':'DiBoson','WWpythia_1b':'VVb','WZpythia_1b':'VVb','WWpythia_2b':'VV2b','WZpythia_2b':'VV2b','WZpythia_light':'VVlight','WZpythia_c':'DiBoson','WZpythia_1b':'VVb','WZpythia_2b':'VV2b','ZZpythia_udscg':'VVlight','ZZpythia_c':'DiBoson','ZZpythia_1b':'VVb','ZZpythia_2b':'VV2b',\
;    'WZpythia_udscg':'VVlight','WZJets_TuneCUETP8M1':'DiBoson','WWpythia_udscg':'VVlight','WWpythia_c':'DiBoson','WWpythia_1b':'VVb','WZpythia_1b':'VVb','WWpythia_2b':'VV2b','WZpythia_2b':'VV2b','WZpythia_light':'VVlight','WZpythia_c':'DiBoson','WZpythia_1b':'VVb','WZpythia_2b':'VV2b','ZZpythia_udscg':'VVlight','ZZpythia_c':'DiBoson','ZZpythia_1b':'VVb','ZZpythia_2b':'VV2b',\
;    'QCD_HT1000to1500_TuneCUETP8M1':'QCD','QCD_HT100to200_TuneCUETP8M1':'QCD','QCD_HT1500to2000_TuneCUETP8M1':'QCD','QCD_HT2000toInf_TuneCUETP8M1':'QCD','QCD_HT200to300_TuneCUETP8M1':'QCD', 'QCD_HT300to500_TuneCUETP8M1':'QCD','QCD_HT500to700_TuneCUETP8M1':'QCD','QCD_HT700to1000_TuneCUETP8M1':'QCD','QCD_Pt-15to20_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-20to30_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-30to50_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-50to80_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-80to1WP90_BCDEF.json20_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-120to170_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-170to300_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-300to470_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-470to600_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-600to800_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-800to1000_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-1000toInf_MuEnrichedPt5_TuneCUETP8M1':'QCDMuEnr','QCD_Pt-15to20_EMEnriched_TuneCUETP8M1':'QCDEMEnr','QCD_Pt-20to30_EMEnriched_TuneCUETP8M1':'QCDEMEnr','QCD_Pt-30to50_EMEnriched_TuneCUETP8M1':'QCDEMEnr','QCD_Pt-50to80_EMEnriched_TuneCUETP8M1':'QCDEMEnr','QCD_Pt-80to120_EMEnriched_TuneCUETP8M1':'QCDEMEnr','QCD_Pt-120to170_EMEnriched_TuneCUETP8M1':'QCDEMEnr','QCD_Pt-170to300_EMEnriched_TuneCUETP8M1':'QCDEMEnr','QCD_Pt-20toInf_MuEnrichedPt15_TuneCUETP8M1':'QCDMuEnrPt15',\
;;V21
;    'data_SM_Run2015D_25ns_16Dec2015':'DATA','data_SM_Run2015C_25ns_16Dec2015':'DATA','data_SM_Run2015D-16Dec2015':'DATA',\
;    'SingleElectron__Run2015D_16Dec2015':'DATA','SingleElectron__Run2015C_25ns-16Dec2015-v1':'DATA',\
;    'allBKG':'BKG1'}
;used for training  step
; short name : sampleName(s)
; or
; short name : subnames
; where sampleName(s) and subnames must be defined in samples_nosplit.ini

;;=======
;;Signals
;;=======
;
;ZH : 'ZH_HToBB_ZToLL_M125_pow'
;ggZH : 'ggZH_HToBB_ZToLL_M125_pow'
;
;Signal: <!Samples|ZH!>,<!Samples|ggZH!>
;;Signal: <!Samples|ZH!>
;
;;==========
;;Backgrounds
;;==========
;
;;#!!_*_*_*_*_*_
;;#Drell-Yan
;;#!!_*_*_*_*_*_
;
;;inclusive sample
;DYincl: 'ZJets_udscg','ZJets_1b','ZJets_2b'
;;inclusive no spliting
;DYinclnosplit: 'DYJets'
;;HT binned
;DYHT:'HT100to200ZJets_udscg','HT100to200ZJets_1b','HT100to200ZJets_2b','HT200to400ZJets_udscg','HT200to400ZJets_1b','HT200to400ZJets_2b','HT400to600ZJets_udscg','HT400to600ZJets_1b','HT400to600ZJets_2b','HT600toInfZJets_udscg','HT600toInfZJets_1b','HT600toInfZJets_2b'
;;inclusive HT<100
;DYinclHT0to100: 'HT0to100ZJets_udscg','HT0to100ZJets_1b','HT0to100ZJets_2b'
;;inclusive HT>100
;DYinclHT100toInf: 'HT100toInfZJets_udscg','HT100toInfZJets_1b','HT100toInfZJets_2b'
;;stiched sample
;DYinclHT: <!Samples|DYHT!>,<!Samples|DYinclHT0to100!>
;
;;DY: <!Samples|DYinclHT100toInf!>
;DY: <!Samples|DYinclHT!>
;;DY: <!Samples|DYHT!>
;;DY: 'ZJets_udscg','ZJets_1b','ZJets_2b'
;;DY: <!Samples|DYHT!>
;
;;DY:'ZJets_udscg','ZJets_1b','ZJets_2b','ZJets_2c'
;
;;ZJetsMadHT100: 'ZJetsMadHT100_light','ZJetsMadHT100_c','ZJetsMadHT100_1b','ZJetsMadHT100_2b'
;;ZJetsMadHT200: 'ZJetsMadHT200_light','ZJetsMadHT200_c','ZJetsMadHT200_1b','ZJetsMadHT200_2b'
;;ZJetsMadHT400: 'ZJetsMadHT400_light','ZJetsMadHT400_c','ZJetsMadHT400_1b','ZJetsMadHT400_2b'
;;ZJetsMadHT600: 'ZJetsMadHT600_light','ZJetsMadHT600_c','ZJetsMadHT600_1b','ZJetsMadHT600_2b'
;;ZJets_light: <!Samples|ZJetsMadHT100_light!>,<!Samples|ZJetsMadHT200_light!>,<!Samples|ZJetsMadHT400_light!>,<!Samples|ZJetsMadHT600_light!>
;;ZJets_c: <!Samples|ZJetsMadHT100_c!>,<!Samples|ZJetsMadHT200_c!>,<!Samples|ZJetsMadHT400_c!>,<!Samples|ZJetsMadHT600_c!>
;;ZJets_1b: <!Samples|ZJetsMadHT100_1b!>,<!Samples|ZJetsMadHT200_1b!>,<!Samples|ZJetsMadHT400_1b!>,<!Samples|ZJetsMadHT600_1b!>
;;ZJets_2b: <!Samples|ZJetsMadHT100_2b!>,<!Samples|ZJetsMadHT200_2b!>,<!Samples|ZJetsMadHT400_2b!>,<!Samples|ZJetsMadHT600_2b!>
;;ZJets: <!Samples|ZJetsMadHT100!>,<!Samples|ZJetsMadHT200!>,<!Samples|ZJetsMadHT400!>,<!Samples|ZJetsMadHT600!>
;
;;Single top
;ST: 'ST_s', 'ST_t', 'ST_tW_top', 'ST_tW_antitop'
;
;;TTbar
;TT: 'TT_pow'
;;TT: 'TT_mad'
;
;;#!!_*_*_*_*_*_
;;#DiBoson
;;#!!_*_*_*_*_*_
;
;WW: 'WWpythia_udscg','WWpythia_1b','WWpythia_2b'
;WZ: 'WZpythia_udscg','WZpythia_1b','WZpythia_2b'
;ZZ: 'ZZpythia_udscg','ZZpythia_1b','ZZpythia_2b'
;
;
;;QCD
;QCDHT: 'QCD_HT1000to1500_TuneCUETP8M1','QCD_HT100to200_TuneCUETP8M1','QCD_HT1500to2000_TuneCUETP8M1','QCD_HT2000toInf_TuneCUETP8M1','QCD_HT200to300_TuneCUETP8M1','QCD_HT500to700_TuneCUETP8M1','QCD_HT700to1000_TuneCUETP8M1'
;
;;QCD: 'QCDHT100','QCDHT200','QCDHT300','QCDHT500','QCDHT700','QCDHT1000','QCDHT1500','QCDHT2000'
;QCD: <!Samples|QCDHT!>
;
;;Other
;
;;All background
;allBKG: <!Samples|VV!>,<!Samples|DY!>,<!Samples|TT!>,<!Samples|ST!>,<!Samples|QCD!>
;
;setup: VH,ZJets_light,ZJets_c,ZJets_1b,ZJets_2b,TT,ST,QCD
;setupLog: <!Samples|setup!>
;
;Group: {
;    ; (sub)sampleName(s) : short name
;    'ZH_HToBB_ZToLL_M125':'ZH',\
;    'ZH_HToBB_ZToLL_M125_pow':'ZH',\
;runplot    'ggZH_HToBB_ZToLL_M125':'ggZH',\
;    'ggZH_HToBB_ZToLL_M125_pow':'ggZH',\
;    'ZJets_2b':'ZJets_2b','ZJets_1b':'ZJets_1b','ZJets_c':'ZJets_c','ZJets_light':'ZJets_light',\
;    'ZJets':'ZJets',\
;    'TT_mad':'TT','TT_pow':'TT',\
;    'ST_s':'ST', 'ST_t':'ST', 'ST_tW_top':'ST', 'ST_tW_antitop':'ST',\
;    'QCDHT100':'QCD','QCDHT200':'QCD','QCDHT300':'QCD','QCDHT500':'QCD','QCDHT700':'QCD','QCDHT1000':'QCD','QCDHT1500':'QCD','QCDHT2000':'QCD',\
;    'WWpythia_light':'VV','WWpythia_c':'VV','WWpythia_1b':'VV','WWpythia_2b':'VV',\
;    'WZpythia_light':'VV','WZpythia_c':'VV','WZpythia_1b':'VV','WZpythia_2b':'VV',\
;    'ZZpythia_light':'VV','ZZpythia_c':'VV','ZZpythia_1b':'VV','ZZpythia_2b':'VV',\
;    'WZJets_pythia':'VV',\
;    'FakeData':'DATA','FakeData':'DATA','SingleMuon':'DATA', 'SingleElectron':'DATA', 'MuonEG':'DATA', 'MET':'DATA', 'Jet':'DATA', 'JetHT':'DATA', 'HTMHT':'DATA', 'DoubleMuon':'DATA', 'DoubleEG':'DATA'\
;    }



[Weights]
;;_*_*_*_
;;Nominal
;;_*_*_*_

bTagWeight          = bTagWeightCMVAV2_Moriond
;doublebTagWeight    = DoubleBM2Weight
doublebTagWeight    = DoubleBLWeight


;All weight
;#Note: NLOw are missing
;resolved
;weightF    = sign(genWeight)*puWeight*<!Weights|bTagWeight!>[0]*DYw[0]*weight_SF_Lepton[0]*muTrigSFWeight_singlemu[0]*eTrigSFWeight_singleEle80[0]*FitCorr[0]

;for boost
;note: Dw = EWKw * NLOw
weightF    = sign(genWeight)*puWeight*<!Weights|doublebTagWeight!>[0]*EWKw[0]*weight_SF_Lepton[0]*muTrigSFWeight_singlemu[0]*eTrigSFWeight_singleEle80[0]*FitCorr[0]

useSpecialWeight = True

;For boosted signal region:
;weightF    = sign(genWeight)*puWeight*<!Weights|doublebTagWeight!>[0]*weight_SF_Lepton[0]*muTrigSFWeight_singlemu[0]*eTrigSFWeight_singleEle80[0]

;Without NLO corrections
;weightF    = sign(genWeight)*puWeight*<!Weights|bTagWeight!>[0]*weight_SF_Lepton[0]*muTrigSFWeight_singlemu[0]*eTrigSFWeight_singleEle80[0]
;No weight
;weightF     = 1

[Branches]
;branch that should always be kept in the Nutples
keep_branches = ['evt','LHE_weights_scale_wgt','isData','muTrigSFWeight_doublemu','weight_SF_LooseID','weight_SF_LooseISO','weight_SF_TRK','eTrigSFWeight_doubleEle80x','weight_SF_LooseIDnISO','weight_SF_Lepton','GenJet_pt','GenJet_eta','GenJet_numBHadrons','GenWZQuark_pdgId','weight_SF_LooseIDnISO','weight_SF_LooseIDnISO_B','weight_SF_LooseIDnISO_E','sb_weight_ZeeBDT_highpt','sb_weight_ZuuBDT_highpt','sb_weight_ZeeBDT_lowpt','sb_weight_ZuuBDT_lowpt','sb_weight_ZeeBDTVH_highpt','sb_weight_ZuuBDTVH_highpt','sb_weight_ZeeBDTVH_lowpt','sb_weight_ZuuBDTVH_lowpt','*BDT*']

keep_branches_plot = ['bTagWeight','bTagWeightCMVAV2_Moriond','DYw','eleweight','GenVbosons_pt','HCMVAV2_eta','HCMVAV2_mass','HCMVAV2_phi','HCMVAV2_pt','HCMVAV2_reg_eta','HCMVAV2_reg_mass','HCMVAV2_reg_phi','HCMVAV2_reg_pt','hJetCMVAV2_pt_reg_0','hJetCMVAV2_pt_reg_1','HVdPhi','Jet_btagCMVAV2','Jet_btagCSV','Jet_chHEF','Jet_corr','Jet_eta','Jet_id','Jet_leadTrackPt','Jet_leptonDeltaR','Jet_leptonPt','Jet_leptonPtRel','Jet_neEmEF','Jet_neHEF','Jet_phi','Jet_pt','Jet_puId','Jet_puId','Jet_vtxMass','Jet_vtxPt','lheHT','lheV_pt','met_phi','met_pt','muweight','nGenHiggsBoson','nGenTop','nGenVbosons','nPVs','puWeight','rho ','softActivityVH_HT','softActivityVH_njets10','softActivityVH_njets2','softActivityVH_njets5','ttCls','V_new_eta','V_new_mass','V_new_phi','V_new_pt','vLeptons_new_eta','vLeptons_new_phi','vLeptons_new_pt','vLeptons_new_relIso04','vLeptons_SF_IdCutLoose','vLeptons_SFweight_HLT','Vtype_new','VtypeSim','weight_SF_Lepton','genWeight','TTW','eTrigSFWeight_doubleEle80x','muTrigSFWeight_doublemu','DY_specialWeight','nGenVbosons','GenVbosons_pt','VtypeSim','nGenTop','nGenHiggsBoson','muTrigSFWeight_singlemu','eTrigSFWeight_singleEle80','FitCorr','lheNb','nGenStatus2bHad']



;put here all the branch you want to keep in the Nutples if "removeBranches" is active

useless_after_sys = []
useless_branch = []
